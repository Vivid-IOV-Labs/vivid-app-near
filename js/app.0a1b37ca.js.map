{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/Home.vue?73fe","webpack:///./src/logo/Vivid_logo design2020-05.png","webpack:///./src/assets/markers/profile_pic.png","webpack:///./src/components/ViewStream.vue?79b2","webpack:///./src/store.js","webpack:///./src/App.vue?29eb","webpack:///./src/components/Login.vue?94cc","webpack:///./src/components/Home.vue?1e8d","webpack:///./src/components/RequestStream.vue?2bd2","webpack:///src/components/RequestStream.vue","webpack:///./src/components/RequestStream.vue?3ae4","webpack:///./src/components/RequestStream.vue?9790","webpack:///./src/components/Wallet.vue?2f40","webpack:///src/components/Wallet.vue","webpack:///./src/components/Wallet.vue?f042","webpack:///./src/components/Wallet.vue","webpack:///./src/components/RequestStreamFilters.vue?9d08","webpack:///src/components/RequestStreamFilters.vue","webpack:///./src/components/RequestStreamFilters.vue?310e","webpack:///./src/components/RequestStreamFilters.vue","webpack:///./src/components/ViewStream.vue?4e45","webpack:///./src/js/webrtc_adaptor.js","webpack:///./src/components/SupplyStream.vue?93fe","webpack:///src/components/SupplyStream.vue","webpack:///./src/components/SupplyStream.vue?ea90","webpack:///./src/components/SupplyStream.vue","webpack:///src/components/ViewStream.vue","webpack:///./src/components/ViewStream.vue?9e0a","webpack:///./src/components/ViewStream.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?705d","webpack:///./src/components/Home.vue","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?2227","webpack:///./src/components/Login.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/RequestStream.vue?aed4","webpack:///./src/assets/video/santa5.mp4","webpack:///./src/assets/markers/purple_user.png","webpack:///./src/components/Login.vue?6598","webpack:///./src/components/Wallet.vue?d62b","webpack:///./src/components/RequestStreamFilters.vue?dec8","webpack:///./src/assets/markers/slim_pin.svg","webpack:///./src/components/SupplyStream.vue?c5a4"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Vue","use","Vuex","Store","state","inBuiltRequestDemo","mutations","setInBuiltRequestDemo","getters","isInBuiltRequestDemo","_vm","this","_h","$createElement","_c","_self","attrs","pageStack","on","$event","pop","staticRenderFns","_v","loginUser","_s","staticClass","staticStyle","segmentIndex","pushToFilterStreamPage","tabs","tabbarIndex","pushToViewStreamPage","popViewPage","reHydrate","optionsPanelView","fromRequest","component","parseFloat","walletService","toFixed","tagsPanelView","togglePanel","_l","tagOption","$index","model","callback","$$v","tagOptionsChecked","expression","willAcceptPanelView","directives","rawName","domProps","target","composing","willAcceptPanelText","tipOfferedView","tipOfferedAmount","currencyView","currencyTicker","currencyTickerSelected","tagOptions","acceptanceDescription","currencyTickers","methods","_idName","console","log","arguments","preventDefault","endViewingStream","PayToUserName","formattedTotalAmountNear","WebRTCAdaptor","initialValues","thiz","peerconnection_config","sdp_constraints","remotePeerConnection","Array","remoteDescriptionSet","iceCandidateList","webSocketAdaptor","roomName","videoTrackSender","audioTrackSender","playStreamId","micGainNode","localStream","isPlayMode","debug","camera_location","camera_margin","camera_percent","localVideo","document","getElementById","localVideoId","remoteVideo","remoteVideoId","callbackError","navigator","mediaDevices","getUserMedia","mediaConstraints","audioConstraint","then","stream","audioTrack","getAudioTracks","removeTrack","video","mandatory","chromeMediaSource","getVideoTracks","onended","media_audio_constraint","audio","audioStream","cameraStream","canvas","createElement","canvasContext","getContext","screenVideo","srcObject","play","cameraVideo","canvasStream","captureStream","addTrack","gotStream","setInterval","width","videoWidth","height","videoHeight","drawImage","positionY","cameraWidth","cameraHeight","positionX","catch","error","message","openScreen","postMessage","sourceId","chromeMediaSourceId","optional","removeEventListener","addEventListener","openStream","closeStream","forEach","track","stop","checkExtension","isConnected","WebSocketAdaptor","micStream","audioContext","AudioContext","desktopSoundGainNode","createGain","gain","audioDestionation","createMediaStreamDestination","audioSource","createMediaStreamSource","connect","audioSource2","wsConn","WebSocket","websocket_url","connected","pingTimerId","clearPingTimer","clearInterval","sendPing","send","jsCmd","command","JSON","stringify","close","onopen","text","readyState","onmessage","event","obj","parse","startPublishing","streamId","candidate","takeCandidate","label","type","takeConfiguration","sdp","closePeerConnection","definition","onerror","onclose","enableMicInMixedAudio","enable","publish","token","joinRoom","room","roomId","join","leaveFromRoom","leave","getStreamInfo","switchVideoCapture","switchVideoSource","switchDesktopCapture","screenShareExtensionCallback","arrangeStreams","onEndedCallback","videoTrack","getSenders","find","kind","replaceTrack","onTrack","streams","dataObj","iceCandidateReceived","sdpMLineIndex","id","sdpMid","initPeerConnection","closedStreamId","RTCPeerConnection","includes","addStream","onicecandidate","ontrack","signalingState","playStreamIndex","indexOf","signallingState","iceConnectionState","gotDescription","configuration","setLocalDescription","turnOffLocalCamera","enabled","turnOnLocalCamera","muteLocalMic","unmuteLocalMic","idOfStream","typeOfConfiguration","conf","setRemoteDescription","RTCSessionDescription","response","addIceCandidate","createAnswer","idOfTheStream","tmpLabel","tmpCandidate","candidateSdp","RTCIceCandidate","createOffer","closeWebSocket","closeVideoStream","streamNameBox","start_publish_button","disabled","stop_publish_button","stopPublishing","screen_share_checkbox","install_extension_link","pc_config","sdpConstraints","webRTCAdaptor","querySelector","popPage","refresh","enableDesktopCapture","_enable","startAnimation","iceState","mounted","OfferToReceiveAudio","OfferToReceiveVideo","info","description","errorMessage","alert","sender","final","transaction","actions","Transfer","deposit","warn","VueOnsen","config","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/app.0a1b37ca.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vivid-app-near/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=f5bb3f22&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=f5bb3f22&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/Vivid_logo design2020-05.fc1a00c6.png\";","module.exports = __webpack_public_path__ + \"img/profile_pic.5b44bf1d.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewStream.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewStream.vue?vue&type=style&index=0&lang=css&\"","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n// import createPersistedState from 'vuex-persistedstate'\r\n\r\nVue.use(Vuex)\r\n\r\n\r\n//THIS VUEX 'STORE' HAS BEEN CREATED TO ACT AS A CENTRAL PALCE TO \r\n//SAVE INFORMATION THAT CAN BE MADE AVAILABLE TO EVERY COMPONENT IN THE VUE APP.\r\nexport default new Vuex.Store({\r\n    // plugins: [createPersistedState()],\r\n    state: {\r\n        inBuiltRequestDemo: true\r\n\r\n    },\r\n    mutations: {\r\n        setInBuiltRequestDemo(state, n) {\r\n            state.inBuiltRequestDemo = n\r\n        }\r\n\r\n    },\r\n    getters: {\r\n        isInBuiltRequestDemo: state => state.inBuiltRequestDemo\r\n\r\n\r\n    }\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-navigator',{attrs:{\"swipeable\":\"\",\"page-stack\":_vm.pageStack},on:{\"push-page\":function($event){return _vm.pageStack.push($event)},\"back-page\":function($event){return _vm.pageStack.pop()},\"reset-home-page\":function($event){_vm.pageStack.pop(); _vm.pageStack.push($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"loginPage\"}},[_c('div',{attrs:{\"id\":\"loginContainer\"}},[_c('h1',{attrs:{\"id\":\"appHeading\"}},[_vm._v(\"VIVID\")]),_c('h2',{attrs:{\"id\":\"appSubHeading\"}},[_vm._v(\"On Demand Live Streaming\")]),_c('v-ons-button',{attrs:{\"id\":\"loginButton\"},on:{\"click\":_vm.loginUser}},[_vm._v(_vm._s('Login'))]),_c('span',{attrs:{\"id\":\"authenticationNote\"}},[_vm._v(_vm._s('On Near Platform'))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',[_c('v-ons-toolbar',[_c('div',{staticClass:\"left\"},[_c('v-ons-button',{staticStyle:{\"background-color\":\"Transparent\"}},[_c('ons-icon',{staticStyle:{\"color\":\"#1d1d1b\"},attrs:{\"size\":\"12px\",\"icon\":\"fa-bars\"}})],1)],1),_c('div',{staticClass:\"center\"},[_c('v-ons-segment',{staticStyle:{\"width\":\"8em\"},attrs:{\"tabbar-id\":\"homeTabbar\",\"index\":_vm.segmentIndex},on:{\"update:index\":function($event){_vm.segmentIndex=$event}}},[_c('button',[_vm._v(\"Wallet\")]),_c('button',[_vm._v(\"Request\")])])],1),_c('div',{staticClass:\"right\"},[_c('v-ons-button',{staticStyle:{\"background-color\":\"Transparent\"},on:{\"click\":_vm.pushToFilterStreamPage}},[_c('ons-icon',{staticStyle:{\"color\":\"#1d1d1b\"},attrs:{\"size\":\"12px\",\"icon\":\"fa-filter\"}})],1)],1)]),_c('v-ons-tabbar',{attrs:{\"id\":\"homeTabbar\",\"tabs\":_vm.tabs,\"index\":_vm.tabbarIndex},on:{\"update:index\":function($event){_vm.tabbarIndex=$event},\"push-page\":_vm.pushToViewStreamPage,\"back-page\":_vm.popViewPage,\"postchange\":_vm.reHydrate}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"requestStreamPage\"}},[_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"optionsPanel_section\",\"expandable\":\"\",\"expanded\":_vm.optionsPanelView},on:{\"update:expanded\":function($event){_vm.optionsPanelView=$event}}},[_c('span',{attrs:{\"id\":\"optionsPanel_section_title\"}},[_vm._v(\"request options\")]),_c('div',{staticClass:\"expandable-content\"},[_c('div',{attrs:{\"id\":\"options_panel\"}},[_c('v-ons-row',[_c('v-ons-col',[_c('span',{staticClass:\"optionsPanelRowTitle\"},[_vm._v(\"Tags:\")]),_c('span',{staticClass:\"badge badge-pill badge-primary optionsPanelRow\"},[_vm._v(\"Street View\")])])],1),_c('v-ons-row',[_c('v-ons-col',[_c('span',{staticClass:\"optionsPanelRowTitle\"},[_vm._v(\"Will Accept:\")]),_c('span',{staticClass:\"optionsPanelRow\"},[_vm._v(\"Side view of santa parade\")])])],1),_c('v-ons-row',[_c('v-ons-col',[_c('span',{staticClass:\"optionsPanelRowTitle\"},[_vm._v(\"Tip Offered:\")]),_c('span',{staticClass:\"optionsPanelRow\"},[_vm._v(\"NEAR 0.05/min\")])])],1),_c('v-ons-row',[_c('v-ons-col',[_c('span',{staticClass:\"optionsPanelRowTitle\"},[_vm._v(\"Range:\")]),_c('v-ons-range',{attrs:{\"size\":\"0.813em\"}})],1)],1)],1)])])],1),_c('img',{attrs:{\"id\":\"vivid_logo\",\"src\":require(\"@/logo/Vivid_logo design2020-05.png\")}}),_c('div',{staticClass:\"map\",attrs:{\"id\":\"map\"}}),_c('section',{attrs:{\"id\":\"nav_buttons\"}},[_c('v-ons-list'),_c('div',{attrs:{\"id\":\"pushToViewStreamPageButton\"}},[_c('v-ons-button',{on:{\"click\":function($event){return _vm.fromRequest()}}},[_vm._v(\"Send Video Request\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-ons-page id=\"requestStreamPage\">\n    <!-- <my-elaborate-popup-content v-show=\"false\" ref=\"foo\"></my-elaborate-popup-content> -->\n\n    <v-ons-list>\n        <v-ons-list-item id=\"optionsPanel_section\" expandable :expanded.sync=\"optionsPanelView\">\n            <span id=\"optionsPanel_section_title\">request options</span>\n            <div class=\"expandable-content\">\n                <div id=\"options_panel\">\n                    <v-ons-row>\n                        <v-ons-col>\n                            <span class=\"optionsPanelRowTitle\">Tags:</span>\n                            <!-- <span class=\"label-info\">Street View</span> -->\n                            <span class=\"badge badge-pill badge-primary optionsPanelRow\">Street View</span>\n                        </v-ons-col>\n                    </v-ons-row>\n                    <v-ons-row>\n                        <v-ons-col>\n                            <span class=\"optionsPanelRowTitle\">Will Accept:</span>\n                            <span class=\"optionsPanelRow\">Side view of santa parade</span>\n                        </v-ons-col>\n                    </v-ons-row>\n                    <v-ons-row>\n                        <v-ons-col>\n                            <span class=\"optionsPanelRowTitle\">Tip Offered:</span>\n                            <span class=\"optionsPanelRow\">NEAR 0.05/min</span>\n                        </v-ons-col>\n                    </v-ons-row>\n                    <v-ons-row>\n                        <v-ons-col>\n                            <span class=\"optionsPanelRowTitle\">Range:</span>\n                            <v-ons-range size=\"0.813em\"></v-ons-range>\n                        </v-ons-col>\n                    </v-ons-row>\n                </div>\n            </div>\n        </v-ons-list-item>\n    </v-ons-list>\n    <img id=\"vivid_logo\" src=\"@/logo/Vivid_logo design2020-05.png\" />\n    <!-- <div id=\"map-container\"> -->\n    <div id=\"map\" class=\"map\"></div>\n    <!-- </div> -->\n    <section id=\"nav_buttons\">\n        <v-ons-list>\n            <!-- <v-ons-list-item>\n          <v-ons-row>\n            <v-ons-col>\n              <v-ons-range style=\"width: 100%;\"></v-ons-range>\n            </v-ons-col>\n          </v-ons-row>\n        </v-ons-list-item>-->\n        </v-ons-list>\n        <div id=\"pushToViewStreamPageButton\">\n            <v-ons-button @click=\"fromRequest()\">Send Video Request</v-ons-button>\n        </div>\n    </section>\n</v-ons-page>\n</template>\n\n<style scoped>\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../../node_modules/leaflet/dist/leaflet.css\";\n@import \"../css/player.css\";\n@import \"../../node_modules/leaflet-geosearch/assets/css/leaflet.css\";\n@import \"../css/requestStream.css\";\n/* @import \"../css/leafletmarkers/leaflet.extra-markers.min.css\"; */\n</style>\n\n<script>\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css\"; // Re-uses images from ~leaflet package\nimport * as L from \"leaflet\";\nimport \"leaflet-defaulticon-compatibility\";\n//import $ from 'jquery'\n\n// import \"@/js/leaflet.extra-markers.js\";\n\n// import myElaboratePopupContent from \"@/components/myElaboratePopupContent.vue\";\n\nimport {\n    GeoSearchControl,\n    EsriProvider\n} from \"leaflet-geosearch\";\nconst myProvider = new EsriProvider();\n\nimport {\n    mapMutations\n} from 'vuex';\n\nexport default {\n    name: \"requestStream\",\n    data() {\n        return {\n            map: null,\n            tileLayer: null,\n            layers: [],\n            options: {\n                enableHighAccuracy: true,\n                timeout: 5000,\n                maximumAge: 0\n            },\n            myLocation: null,\n            myLocationCircle: null,\n            geoSearchLocation: null,\n            geoSearchLocationCircle: null,\n            defaultRadius: 92,\n            optionsPanelView: true,\n            streamerIcon: null,\n            redMarker: null,\n            buttonGo: null,\n            slimPinIcon: null,\n            purpleStreamerIcon: null,\n            templateForm: null\n        };\n    },\n    methods: {\n        ...mapMutations({\n            _setInBuiltRequestDemo: 'setInBuiltRequestDemo'\n\n        }),\n        layerClickHandler(e) {\n\n            var marker = e.target\n            //properties = e.target.feature.properties;\n\n            //return this.map.hasOwnProperty(normalizeName(name))\n            //return Object.prototype.hasOwnProperty.call(this.map, normalizeName(name));\n\n            //if (marker.hasOwnProperty('_popup')) {\n            if (Object.prototype.hasOwnProperty.call(marker, '_popup')) {\n                marker.unbindPopup();\n            }\n\n            marker.bindPopup(this.templateForm);\n            marker.openPopup();\n\n            //   L.DomUtil.get('value-arc').textContent = properties.arc;\n            //   L.DomUtil.get('value-speed').textContent = properties.speed;\n\n            //   var inputSpeed = L.DomUtil.get('input-speed');\n            //   inputSpeed.value = properties.speed;\n            //   L.DomEvent.addListener(inputSpeed, 'change', function (e) {\n            //     properties.speed = e.target.value;\n            //   });\n\n            var buttonSubmit = L.DomUtil.get('button-submit');\n\n            console.log(buttonSubmit)\n\n            L.DomEvent.addListener(buttonSubmit, 'click', function () {\n                //marker.closePopup();\n                console.log('button clicked to submit')\n            });\n\n        },\n        fromJoin(){\n            this._setInBuiltRequestDemo(true);\n            this.pushToViewStreamPage()\n\n        },\n        fromRequest(){\n            this._setInBuiltRequestDemo(false);\n            this.pushToViewStreamPage()\n            \n        },\n        pushToViewStreamPage() {\n            this.$emit(\"push-page\");\n        },\n        addIDEALondonMarker() {\n            //const template = this.$refs.foo.$el.innerHTML;\n            //Add Marker for IDEALondon location\n\n            //             // eslint-disable-next-line  \n            // delete L.Icon.Default.prototype._getIconUrl  \n            // // eslint-disable-next-line  \n            // L.Icon.Default.mergeOptions({  \n            //   // iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),  \n            //   // iconUrl: require('leaflet/dist/images/marker-icon.png'),  \n            //   // shadowUrl: require('leaflet/dist/images/marker-shadow.png')  \n            //    iconRetinaUrl: require('~@/components/slim_pin.svg'),  \n            //   iconUrl: require('~@/components/slim_pin.svg'),  \n            //   shadowUrl: require('~@/components/slim_pin.svg')  \n            // })\n\n            //           var LeafIcon = L.Icon.extend({\n            // \toptions: {\n            // //\t\tshadowUrl: require('@/assets/markers/slim_pin.svg'), \n            // \t\t// iconSize:     [38, 95],\n            // \t\t// shadowSize:   [50, 64],\n            // \t\t// iconAnchor:   [22, 94],\n            // \t\t// shadowAnchor: [4, 62],\n            // \t\t// popupAnchor:  [-3, -76]\n            // \t}\n            // });\n\n            // var greenIcon = new LeafIcon({iconUrl: require('@/assets/markers/slim_pin.svg')});\n\n            L.marker([51.520748, -0.08504], {\n                    icon: this.purpleStreamerIcon\n                })\n                .addTo(this.map)\n                //.bindPopup(\"IEDALondon, London EC2A 2BB\");\n                .bindPopup(this.templateForm, {\n                    maxWidth: 1060\n                })\n                .on('popupopen', () => {\n                    document.getElementById('button-submit').addEventListener(\"click\", () => {\n                        this.fromJoin()\n\n                    });\n                })\n                .on('popupclose', () => {\n                    //console.log('popup closed')\n                })\n                .openPopup();\n\n            L.circle([51.520748, -0.08504], this.defaultRadius).addTo(this.map);\n\n            this.map.setView([51.520748, -0.08504], 15);\n        },\n        geoSearchEvent(_data) {\n            if (this.myLocation) this.map.removeLayer(this.myLocation);\n            if (this.myLocationCircle) this.map.removeLayer(this.myLocationCircle);\n\n            if (this.geoSearchLocation) this.map.removeLayer(this.geoSearchLocation);\n            if (this.geoSearchLocationCircle)\n                this.map.removeLayer(this.geoSearchLocationCircle);\n\n            //Readd current streamer\n            this.addIDEALondonMarker();\n\n            this.geoSearchLocation = L.marker([_data.location.y, _data.location.x], {\n                    icon: this.slimPinIcon\n                })\n                .addTo(this.map)\n                .bindPopup(_data.location.label)\n                .openPopup();\n            this.geoSearchLocationCircle = L.circle(\n                [_data.location.y, _data.location.x],\n                this.defaultRadius\n            ).addTo(this.map);\n            this.map.setView([_data.location.y, _data.location.x], 15);\n        },\n        onLocationFound(e) {\n            var radius = e.accuracy;\n\n            //   const icon = L.divIcon({\n            //     className: \"custom-div-icon\",\n            //     html:\n            //       \"<div style='background-color:#4838cc;' class='marker-pin'></div><i class='fa fa-camera awesome'>\",\n            //     iconSize: [30, 42],\n            //     iconAnchor: [15, 42]\n            //   });\n\n            var myProfileIcon = L.icon({\n                iconUrl: require('@/assets/markers/profile_pic.png'),\n                iconSize: [38, 95],\n                iconAnchor: [28, 40],\n                popupAnchor: [-1, -36],\n                className: 'profilePic'\n            });\n\n            this.myLocation = L.marker(e.latlng, {\n                    icon: myProfileIcon\n                })\n                .addTo(this.map)\n                .bindPopup(\"You are here\")\n                .openPopup();\n\n            this.myLocationCircle = L.circle(e.latlng, radius).addTo(this.map);\n        },\n        onLocationError(e) {\n            this.$ons.notification.alert(e.message);\n\n            this.map.setView([51.520748, -0.08504], 15);\n        },\n        initMap() {\n            this.map = L.map(\"map\").setView([51.520748, -0.08504], 15);\n\n            //   this.map.locate({\n            //     setView: true,\n            //     maxZoom: 20\n            //   });\n\n            //Add Marker for Idea London\n            //this.addIDEALondonMarker();\n\n            new GeoSearchControl({\n                provider: myProvider, // required\n                showMarker: true, // optional: true|false  - default true\n                showPopup: false, // optional: true|false  - default false\n                marker: {\n                    // optional: L.Marker    - default L.Icon.Default\n                    icon: new L.Icon.Default(),\n                    draggable: false\n                },\n                // popupFormat: ({\n                //     query,\n                //     result\n                // }) => result.label, // optional: function    - default returns result label\n                maxMarkers: 1, // optional: number      - default 1\n                retainZoomLevel: false, // optional: true|false  - default false\n                animateZoom: true, // optional: true|false  - default true\n                autoClose: true, // optional: true|false  - default false\n                searchLabel: \"Enter address\", // optional: string      - default 'Enter address'\n                keepResult: false\n            }).addTo(this.map);\n\n            this.map.on(\"geosearch/showlocation\", this.geoSearchEvent);\n\n            document.getElementById(\"optionsPanel_section\").showExpansion();\n        },\n        initLayers() {\n            this.tileLayer = L.tileLayer(\n                \"https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWEwNnJpaSIsImEiOiJjazZkeTU2NnAxbWF4M2xxajN6NWIyb2l6In0.4iTjEpS8cIa_Um3zhE9keQ\", {\n                    //attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n                    attribution: false,\n                    maxZoom: 36,\n                    id: \"mapbox/streets-v11\"\n                }\n            ).addTo(this.map);\n\n            //L.marker([51.5, -0.09], {icon: greenIcon}).bindPopup(\"I am a green leaf.\").addTo(map);\n\n        },\n        locationSuccess(pos) {\n            var crd = pos.coords;\n\n            console.log(\"Your current position is:\");\n            console.log(`Latitude : ${crd.latitude}`);\n            console.log(`Longitude: ${crd.longitude}`);\n            console.log(`More or less ${crd.accuracy} meters.`);\n        },\n\n        locationError(err) {\n            console.warn(`ERROR(${err.code}): ${err.message}`);\n        }\n    },\n    mounted() {\n\n        //         this.templateForm = '<form id=\"popup-form\">\\\n        //   <label for=\"input-speed\">New speed:</label>\\\n        //   <input id=\"input-speed\" class=\"popup-input\" type=\"number\" />\\\n        //   <table class=\"popup-table\">\\\n        //     <tr class=\"popup-table-row\">\\\n        //       <th class=\"popup-table-header\">Arc numer:</th>\\\n        //       <td id=\"value-arc\" class=\"popup-table-data\"></td>\\\n        //     </tr>\\\n        //     <tr class=\"popup-table-row\">\\\n        //       <th class=\"popup-table-header\">Current speed:</th>\\\n        //       <td id=\"value-speed\" class=\"popup-table-data\"></td>\\\n        //     </tr>\\\n        //   </table>\\\n        //   <button id=\"button-submit\" type=\"button\">Save Changes</button>\\\n        // </form>';\n\n        // this.templateForm = `<button id=\"button-submit\" type=\"button\">Join Stream</button>`\n\n        this.templateForm = `<v-ons-button id=\"button-submit\" type=\"button\">Join</v-ons-button>`\n\n        this.initMap();\n        this.initLayers();\n\n        this.slimPinIcon = L.icon({\n            //iconUrl: \"slim_pin.svg\",\n            iconUrl: require('@/assets/markers/slim_pin.svg'),\n            iconSize: [28, 85], // size of the icon\n            // iconSize: [38, 95],\n            iconAnchor: [13, 63],\n            className: 'slimPinIcon',\n            popupAnchor: [0, -60],\n            // shadowSize: [68, 95],\n            // shadowAnchor: [22, 94]\n        });\n\n        this.purpleStreamerIcon = L.icon({\n            //iconUrl: \"slim_pin.svg\",\n            iconUrl: require('@/assets/markers/purple_user.png'),\n            iconSize: [28, 85], // size of the icon\n            // iconSize: [38, 95],\n            iconAnchor: [30, 52],\n            className: 'purpleStreamerIcon',\n            popupAnchor: [-3, -46],\n            // shadowSize: [68, 95],\n            // shadowAnchor: [22, 94]\n        });\n\n        this.addIDEALondonMarker();\n\n        this.map.on(\"locationfound\", this.onLocationFound);\n\n        this.map.on(\"locationerror\", this.onLocationError);\n\n        // this.streamerIcon = L.icon({\n        //   iconUrl: \"../../assets/markers/slim_pin.svg\",\n        //   iconSize: [38, 95],\n        //   iconAnchor: [22, 94],\n        //   popupAnchor: [-3, -76],\n        //   shadowSize: [68, 95],\n        //   shadowAnchor: [22, 94]\n        // });\n        // this.redMarker = L.ExtraMarkers.icon({\n        //   icon: \"fa-coffee\",\n        //   markerColor: \"red\",\n        //   shape: \"square\",\n        //   prefix: \"fa\"\n        // });\n\n        //this.addIDEALondonMarker();\n\n        //navigator.geolocation.getCurrentPosition(this.locationSuccess, this.locationError, this.options);\n\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RequestStream.vue?vue&type=template&id=518fe028&scoped=true&\"\nimport script from \"./RequestStream.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestStream.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestStream.vue?vue&type=style&index=0&id=518fe028&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"518fe028\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"walletPage\"}},[_c('v-ons-card',{staticStyle:{\"text-align\":\"center\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"Balance\")]),_c('div',{staticClass:\"content\"},[_c('strong',[_c('span',[_vm._v(_vm._s((\"NEAR \" + (parseFloat(_vm.walletService()).toFixed(2)))))])])])]),_c('section',{staticStyle:{\"text-align\":\"center\"},attrs:{\"id\":\"wallet_transaction_buttons\"}},[_c('div',{staticStyle:{\"display\":\"block\"}},[_c('v-ons-button',{staticStyle:{\"margin-top\":\"1em\",\"margin-right\":\"2em\",\"width\":\"5em\",\"background-color\":\"indigo\"}},[_vm._v(\"Send\")]),_c('v-ons-button',{staticStyle:{\"margin-top\":\"1em\",\"margin-left\":\"2em\",\"width\":\"5em\",\"background-color\":\"indigo\"}},[_vm._v(\"Receive\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-ons-page id=\"walletPage\">\n    <v-ons-card style=\"text-align:center\">\n        <div class=\"title\">Balance</div>\n        <div class=\"content\">\n            <strong><span>{{`NEAR ${ parseFloat(walletService()).toFixed(2)}`}}</span></strong>\n        </div>\n    </v-ons-card>\n\n    <section id=\"wallet_transaction_buttons\" style=\"text-align: center;\">\n        <div style=\"display:block\">\n            <v-ons-button style=\"margin-top: 1em; margin-right:2em; width:5em; background-color:indigo\">Send</v-ons-button>\n            <v-ons-button style=\"margin-top: 1em; margin-left:2em; width: 5em; background-color:indigo\">Receive</v-ons-button>\n        </div>\n    </section>\n</v-ons-page>\n</template>\n\n<style scoped>\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../css/wallet.css\";\n</style>\n\n<script>\nexport default {\n    name: \"wallet\",\n    inject: [\"walletService\"],\n    data() {\n        return {\n          \n        };\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Wallet.vue?vue&type=template&id=91d4ba60&scoped=true&\"\nimport script from \"./Wallet.vue?vue&type=script&lang=js&\"\nexport * from \"./Wallet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Wallet.vue?vue&type=style&index=0&id=91d4ba60&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91d4ba60\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"requestStreamFiltersPage\"}},[_c('v-ons-toolbar',[_c('div',{staticClass:\"left\"},[_c('v-ons-back-button')],1),_c('div',{staticClass:\"center\"},[_c('span',{staticClass:\"badge badge-default onsPageTitleStyle\"},[_vm._v(\"Request Options\")])])]),_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"tags_panel\",\"expandable\":\"\",\"expanded\":_vm.tagsPanelView},on:{\"update:expanded\":function($event){_vm.tagsPanelView=$event},\"click\":function($event){return _vm.togglePanel('tags_panel')}}},[_c('span',{attrs:{\"id\":\"expandable_section_title\"}},[_vm._v(\"tags\")]),_c('div',{staticClass:\"expandable-content\"},_vm._l((_vm.tagOptions),function(tagOption,$index){return _c('v-ons-list-item',{key:tagOption,attrs:{\"tappable\":\"\"}},[_c('label',{staticClass:\"left\"},[_c('v-ons-checkbox',{attrs:{\"input-id\":'checkbox-' + $index,\"value\":tagOption},model:{value:(_vm.tagOptionsChecked),callback:function ($$v) {_vm.tagOptionsChecked=$$v},expression:\"tagOptionsChecked\"}})],1),_c('label',{staticClass:\"center\",attrs:{\"for\":'checkbox-' + $index}},[_vm._v(_vm._s(tagOption))])])}),1)])],1),_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"willAccept_panel\",\"expandable\":\"\",\"expanded\":_vm.willAcceptPanelView},on:{\"update:expanded\":function($event){_vm.willAcceptPanelView=$event},\"click\":function($event){return _vm.togglePanel('willAccept_panel')}}},[_c('span',{attrs:{\"id\":\"expandable_section_title\"}},[_vm._v(\"will accept\")]),_c('div',{staticClass:\"expandable-content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.willAcceptPanelText),expression:\"willAcceptPanelText\"}],staticClass:\"textarea textarea--transparent\",attrs:{\"maxlength\":\"140\",\"rows\":\"6\",\"placeholder\":\"Input message\"},domProps:{\"value\":(_vm.willAcceptPanelText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.willAcceptPanelText=$event.target.value}}})])])],1),_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"tipOffered_panel\",\"expandable\":\"\",\"expanded\":_vm.tipOfferedView},on:{\"update:expanded\":function($event){_vm.tipOfferedView=$event},\"click\":function($event){return _vm.togglePanel('tipOffered_panel')}}},[_c('span',{attrs:{\"id\":\"expandable_section_title\"}},[_vm._v(\"tip offered\")]),_c('div',{staticClass:\"expandable-content\"},[_c('v-ons-input',{attrs:{\"type\":\"number\",\"placeholder\":\"Amount per minute\",\"float\":\"\"},model:{value:(_vm.tipOfferedAmount),callback:function ($$v) {_vm.tipOfferedAmount=$$v},expression:\"tipOfferedAmount\"}})],1)])],1),_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"currencyView_panel\",\"expandable\":\"\",\"expanded\":_vm.currencyView},on:{\"update:expanded\":function($event){_vm.currencyView=$event},\"click\":function($event){return _vm.togglePanel('currencyView_panel')}}},[_c('span',{attrs:{\"id\":\"expandable_section_title\"}},[_vm._v(\"currency\")]),_c('div',{staticClass:\"expandable-content\"},[_c('v-ons-list',_vm._l((_vm.currencyTickers),function(currencyTicker,$index){return _c('v-ons-list-item',{key:currencyTicker,attrs:{\"tappable\":\"\"}},[_c('label',{staticClass:\"left\"},[_c('v-ons-radio',{attrs:{\"input-id\":'radio-' + $index,\"value\":currencyTicker},model:{value:( _vm.currencyTickerSelected),callback:function ($$v) { _vm.currencyTickerSelected=$$v},expression:\" currencyTickerSelected\"}})],1),_c('label',{staticClass:\"center\",attrs:{\"for\":'radio-' + $index}},[_vm._v(_vm._s(currencyTicker))])])}),1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-ons-page id=\"requestStreamFiltersPage\">\n    <v-ons-toolbar>\n      <div class=\"left\">\n        <v-ons-back-button></v-ons-back-button>\n      </div>\n      <div class=\"center\">\n        <span class=\"badge badge-default onsPageTitleStyle\">Request Options</span>\n      </div>\n    </v-ons-toolbar>\n\n    <v-ons-list>\n      <v-ons-list-item\n        id=\"tags_panel\"\n        expandable\n        :expanded.sync=\"tagsPanelView\"\n        @click=\"togglePanel('tags_panel')\"\n      >\n        <span id=\"expandable_section_title\">tags</span>\n        <div class=\"expandable-content\">\n          <v-ons-list-item v-for=\"(tagOption, $index) in tagOptions\" :key=\"tagOption\" tappable>\n            <label class=\"left\">\n              <v-ons-checkbox\n                :input-id=\"'checkbox-' + $index\"\n                :value=\"tagOption\"\n                v-model=\"tagOptionsChecked\"\n              ></v-ons-checkbox>\n            </label>\n            <label class=\"center\" :for=\"'checkbox-' + $index\">{{ tagOption }}</label>\n          </v-ons-list-item>\n        </div>\n      </v-ons-list-item>\n    </v-ons-list>\n\n    <v-ons-list>\n      <v-ons-list-item\n        id=\"willAccept_panel\"\n        expandable\n        :expanded.sync=\"willAcceptPanelView\"\n        @click=\"togglePanel('willAccept_panel')\"\n      >\n        <span id=\"expandable_section_title\">will accept</span>\n        <div class=\"expandable-content\">\n          <textarea\n            class=\"textarea textarea--transparent\"\n            maxlength=\"140\"\n            rows=\"6\"\n            placeholder=\"Input message\"\n            v-model=\"willAcceptPanelText\"\n          ></textarea>\n        </div>\n      </v-ons-list-item>\n    </v-ons-list>\n\n    <v-ons-list>\n      <v-ons-list-item\n        id=\"tipOffered_panel\"\n        expandable\n        :expanded.sync=\"tipOfferedView\"\n        @click=\"togglePanel('tipOffered_panel')\"\n      >\n        <span id=\"expandable_section_title\">tip offered</span>\n        <div class=\"expandable-content\">\n          <v-ons-input\n            type=\"number\"\n            placeholder=\"Amount per minute\"\n            float\n            v-model=\"tipOfferedAmount\"\n          ></v-ons-input>\n        </div>\n      </v-ons-list-item>\n    </v-ons-list>\n\n    <v-ons-list>\n      <v-ons-list-item\n        id=\"currencyView_panel\"\n        expandable\n        :expanded.sync=\"currencyView\"\n        @click=\"togglePanel('currencyView_panel')\"\n      >\n        <span id=\"expandable_section_title\">currency</span>\n        <div class=\"expandable-content\">\n          <v-ons-list>\n            <v-ons-list-item\n              v-for=\"(currencyTicker, $index) in currencyTickers\"\n              :key=\"currencyTicker\"\n              tappable\n            >\n              <label class=\"left\">\n                <v-ons-radio\n                  :input-id=\"'radio-' + $index\"\n                  :value=\"currencyTicker\"\n                  v-model=\" currencyTickerSelected\"\n                ></v-ons-radio>\n              </label>\n              <label :for=\"'radio-' + $index\" class=\"center\">{{ currencyTicker }}</label>\n            </v-ons-list-item>\n          </v-ons-list>\n        </div>\n      </v-ons-list-item>\n    </v-ons-list>\n  </v-ons-page>\n</template>\n\n<style scoped>\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../css/requestStreamFilters.css\";\n</style>\n\n<script>\nexport default {\n  name: \"requestStreamFilters\",\n  data() {\n    return {\n      tagsPanelView: false,\n      tagOptions: [\"Street View\", \"Crowds\", \"Buildings\"],\n      tagOptionsChecked: [\"Street View\"],\n      willAcceptPanelView: false,\n      willAcceptPanelText: \"Side view of santa parade\",\n      acceptanceDescription: \"\",\n      tipOfferedView: false,\n      tipOfferedAmount: 0.05,\n      currencyView: false,\n      currencyTickers: [\"USD\", \"GBP\", \"NEAR\"],\n      currencyTickerSelected: \"NEAR\"\n    };\n  },\n  methods: {\n    togglePanel(_idName) {\n      switch (true) {\n        case _idName == \"tags_panel\":\n          if (this.tipOfferedView)\n            document.getElementById(\"tipOffered_panel\").hideExpansion();\n          this.tipOfferedView = false;\n          if (this.currencyView)\n            document.getElementById(\"currencyView_panel\").hideExpansion();\n          this.currencyView = false;\n          if (this.willAcceptPanelView)\n            document.getElementById(\"willAccept_panel\").hideExpansion();\n          this.willAcceptPanelView = false;\n\n          break;\n        case _idName == \"willAccept_panel\":\n          if (this.tipOfferedView)\n            document.getElementById(\"tipOffered_panel\").hideExpansion();\n          this.tipOfferedView = false;\n          if (this.currencyView)\n            document.getElementById(\"currencyView_panel\").hideExpansion();\n          this.currencyView = false;\n          if (this.tagsPanelView)\n            document.getElementById(\"tags_panel\").hideExpansion();\n          this.tagsPanelView = false;\n\n          break;\n        case _idName == \"tipOffered_panel\":\n          if (this.willAcceptPanelView)\n            document.getElementById(\"willAccept_panel\").hideExpansion();\n          this.willAcceptPanelView = false;\n          if (this.currencyView)\n            document.getElementById(\"currencyView_panel\").hideExpansion();\n          this.currencyView = false;\n          if (this.tagsPanelView)\n            document.getElementById(\"tags_panel\").hideExpansion();\n          this.tagsPanelView = false;\n\n          break;\n        case _idName == \"currencyView_panel\":\n          if (this.willAcceptPanelView)\n            document.getElementById(\"willAccept_panel\").hideExpansion();\n          this.willAcceptPanelView = false;\n          if (this.tipOfferedView)\n            document.getElementById(\"tipOffered_panel\").hideExpansion();\n          this.tipOfferedView = false;\n          if (this.tagsPanelView)\n            document.getElementById(\"tags_panel\").hideExpansion();\n          this.tagsPanelView = false;\n\n          break;\n        default:\n          // code block\n          console.log(arguments);\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStreamFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStreamFilters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RequestStreamFilters.vue?vue&type=template&id=69a495fe&scoped=true&\"\nimport script from \"./RequestStreamFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./RequestStreamFilters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RequestStreamFilters.vue?vue&type=style&index=0&id=69a495fe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69a495fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"viewStreamPage\"}},[_c('v-ons-toolbar',[_c('div',{staticClass:\"left\"},[_c('v-ons-back-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.endViewingStream()}}})],1),_c('div',{staticClass:\"center\"},[_c('span',{staticClass:\"onsPageTitleStyle\"},[_vm._v(\"View Stream\")])])]),_c('v-ons-list',[_c('v-ons-list-item',{attrs:{\"id\":\"optionsPanel_section_viewStream\"}},[_c('div',{attrs:{\"id\":\"pay-info-section\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isInBuiltRequestDemo()),expression:\"isInBuiltRequestDemo()\"}],staticClass:\"badge badge-warning\",attrs:{\"id\":\"payingLabel\"}},[_vm._v(\" Paying \"),_c('strong',[_c('i',[_vm._v(_vm._s(_vm.PayToUserName))])])]),_c('span',{staticClass:\"badge badge-pill badge-info\",attrs:{\"id\":\"payment-ticker\"}},[_vm._v(_vm._s(\"NEAR \" + _vm.formattedTotalAmountNear))])]),_c('div',{staticClass:\"expandable-content\"},[_c('div',{attrs:{\"id\":\"options_panel\"}})])])],1),_c('div',{attrs:{\"id\":\"view-video-panel\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isInBuiltRequestDemo()),expression:\"isInBuiltRequestDemo()\"}],staticClass:\"container\"},[_c('div',{staticClass:\"jumbotron\"},[_c('video',{attrs:{\"id\":\"inBuiltVideoExample\",\"src\":require(\"../assets/video/santa5.mp4\"),\"playsinline\":\"\"}})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isInBuiltRequestDemo()),expression:\"!isInBuiltRequestDemo()\"}],staticClass:\"container\"},[_c('div',{staticClass:\"jumbotron\"},[_c('div',{attrs:{\"id\":\"video_info\"}},[_vm._v(\" Stream will start playing automatically \"),_c('br'),_vm._v(\"when it is live \")]),_c('video',{attrs:{\"id\":\"remoteVideo\",\"autoplay\":\"\",\"controls\":\"\"}})])])]),_c('section',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isInBuiltRequestDemo()),expression:\"isInBuiltRequestDemo()\"}],attrs:{\"id\":\"view_stream_nav_buttons_section\"}},[_c('div',{attrs:{\"id\":\"view_stream_nav_buttons_panel\"}},[_c('v-ons-button',{attrs:{\"id\":\"endStreamButton\"},on:{\"click\":function($event){return _vm.endViewingStream()}}},[_vm._v(\" End Stream \")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n *\n * @returns\n */\nexport function WebRTCAdaptor(initialValues) {\n\tvar thiz = this;\n\tthiz.peerconnection_config = null;\n\tthiz.sdp_constraints = null;\n\tthiz.remotePeerConnection = new Array();\n\tthiz.remoteDescriptionSet = new Array();\n\tthiz.iceCandidateList = new Array();\n\tthiz.webSocketAdaptor = null;\n\tthiz.roomName = null;\n\tthiz.videoTrackSender = null;\n\tthiz.audioTrackSender = null;\n\tthiz.playStreamId = new Array();\n\tthiz.micGainNode = null;\n\tthiz.localStream = null;\n\n\tthiz.isPlayMode = false;\n\tthiz.debug = false;\n\n\t/**\n\t * The cam_location below is effective when camera and screen is send at the same time.\n\t * possible values are top and bottom. It's on right all the time\n\t */\n\tthiz.camera_location = \"top\"\n\n\t/**\n\t * The cam_margin below is effective when camera and screen is send at the same time.\n\t * This is the margin value in px from the edges \n\t */\n\tthiz.camera_margin = 15;\n\n\t/**\n\t * Thiz camera_percent is how large the camera view appear on the screen. It's %15 by default.\n\t */\n\tthiz.camera_percent = 15;\n\n\tfor (var key in initialValues) {\n\t\t//if (initialValues.hasOwnProperty(key)) {\n\t\tif (Object.prototype.hasOwnProperty.call(initialValues, key)) {\n\t\t\tthis[key] = initialValues[key];\n\t\t}\n\t}\n\n\tthiz.localVideo = document.getElementById(thiz.localVideoId);\n\tthiz.remoteVideo = document.getElementById(thiz.remoteVideoId);\n\n\tif (!(\"WebSocket\" in window)) {\n\t\tconsole.log(\"WebSocket not supported.\");\n\t\tthiz.callbackError(\"WebSocketNotSupported\");\n\t\treturn;\n\t}\n\n\tif (typeof navigator.mediaDevices == \"undefined\" && thiz.isPlayMode == false) {\n\t\tconsole.log(\"Cannot open camera and mic because of unsecure context. Please Install SSL(https)\");\n\t\tthiz.callbackError(\"UnsecureContext\");\n\t\treturn;\n\t}\n\n\t/**\n\t * Get user media\n\t */\n\tthis.getUserMedia = function (mediaConstraints, audioConstraint) {\n\t\tnavigator.mediaDevices.getUserMedia(mediaConstraints)\n\t\t\t.then(function (stream) {\n\n\t\t\t\t//this trick, getting audio and video separately, make us add or remove tracks on the fly\n\t\t\t\tvar audioTrack = stream.getAudioTracks();\n\t\t\t\tif (audioTrack.length > 0) {\n\t\t\t\t\tstream.removeTrack(audioTrack[0]);\n\t\t\t\t}\n\n\t\t\t\t//add callback if desktop is sharing\n\t\t\t\tif (mediaConstraints.video != \"undefined\"\n\t\t\t\t\t&& typeof mediaConstraints.video.mandatory != \"undefined\"\n\t\t\t\t\t&& typeof mediaConstraints.video.mandatory.chromeMediaSource != \"undefined\"\n\t\t\t\t\t&& mediaConstraints.video.mandatory.chromeMediaSource == \"desktop\") {\n\n\t\t\t\t\tstream.getVideoTracks()[0].onended = function () {\n\t\t\t\t\t\tthiz.callback(\"screen_share_stopped\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//now get only audio to add this stream\n\t\t\t\tif (audioConstraint != \"undefined\" && audioConstraint != false) {\n\t\t\t\t\tvar media_audio_constraint = { audio: audioConstraint };\n\t\t\t\t\tnavigator.mediaDevices.getUserMedia(media_audio_constraint)\n\t\t\t\t\t\t.then(function (audioStream) {\n\n\n\t\t\t\t\t\t\tif (thiz.mediaConstraints != \"undefined\" && thiz.mediaConstraints.video == \"screen+camera\") {\n\t\t\t\t\t\t\t\tnavigator.mediaDevices.getUserMedia({ video: true, audio: false })\n\t\t\t\t\t\t\t\t\t.then(function (cameraStream) {\n\t\t\t\t\t\t\t\t\t\t//create a canvas element\n\t\t\t\t\t\t\t\t\t\tvar canvas = document.createElement(\"canvas\");\n\t\t\t\t\t\t\t\t\t\tvar canvasContext = canvas.getContext(\"2d\");\n\n\t\t\t\t\t\t\t\t\t\t//create video element for screen\n\t\t\t\t\t\t\t\t\t\t//var screenVideo = document.getElementById('sourceVideo');\n\t\t\t\t\t\t\t\t\t\tvar screenVideo = document.createElement('video');\n\t\t\t\t\t\t\t\t\t\t//TODO: check audio track\n\t\t\t\t\t\t\t\t\t\tscreenVideo.srcObject = stream;\n\t\t\t\t\t\t\t\t\t\tscreenVideo.play();\n\n\n\n\t\t\t\t\t\t\t\t\t\t//create video element for camera\n\t\t\t\t\t\t\t\t\t\tvar cameraVideo = document.createElement('video');\n\t\t\t\t\t\t\t\t\t\t//TODO: check audio track\n\t\t\t\t\t\t\t\t\t\tcameraVideo.srcObject = cameraStream;\n\t\t\t\t\t\t\t\t\t\tcameraVideo.play();\n\n\n\t\t\t\t\t\t\t\t\t\tvar canvasStream = canvas.captureStream(15);\n\t\t\t\t\t\t\t\t\t\tcanvasStream.addTrack(audioStream.getAudioTracks()[0]);\n\t\t\t\t\t\t\t\t\t\t//call gotStream\n\t\t\t\t\t\t\t\t\t\tthiz.gotStream(canvasStream);\n\n\t\t\t\t\t\t\t\t\t\t//update the canvas\n\t\t\t\t\t\t\t\t\t\tsetInterval(function () {\n\n\t\t\t\t\t\t\t\t\t\t\t//draw screen to canvas\n\t\t\t\t\t\t\t\t\t\t\tcanvas.width = screenVideo.videoWidth;\n\t\t\t\t\t\t\t\t\t\t\tcanvas.height = screenVideo.videoHeight;\n\t\t\t\t\t\t\t\t\t\t\tcanvasContext.drawImage(screenVideo, 0, 0, canvas.width, canvas.height);\n\n\t\t\t\t\t\t\t\t\t\t\tvar cameraWidth = screenVideo.videoWidth * (thiz.camera_percent / 100);\n\t\t\t\t\t\t\t\t\t\t\tvar cameraHeight = (cameraVideo.videoHeight / cameraVideo.videoWidth) * cameraWidth\n\n\t\t\t\t\t\t\t\t\t\t\tvar positionX = (canvas.width - cameraWidth) - thiz.camera_margin;\n\t\t\t\t\t\t\t\t\t\t\tvar positionY;\n\n\t\t\t\t\t\t\t\t\t\t\tif (thiz.camera_location == \"top\") {\n\t\t\t\t\t\t\t\t\t\t\t\tpositionY = thiz.camera_margin;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\telse { //if not top, make it bottom\t\t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t//draw camera on right bottom corner\n\t\t\t\t\t\t\t\t\t\t\t\tpositionY = (canvas.height - cameraHeight) - thiz.camera_margin;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tcanvasContext.drawImage(cameraVideo, positionX, positionY, cameraWidth, cameraHeight);\n\n\n\t\t\t\t\t\t\t\t\t\t}, 66);\n\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\t\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tstream.addTrack(audioStream.getAudioTracks()[0]);\n\t\t\t\t\t\t\t\tthiz.gotStream(stream);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// stream.addTrack(audioStream.getAudioTracks()[0]);\n\t\t\t\t\t// thiz.gotStream(stream);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t});\n\t}\n\n\tthis.openScreen = function (audioConstraint) {\n\t\tvar callback = function (message) {\n\t\t\tif (message.data == \"rtcmulticonnection-extension-loaded\") {\n\t\t\t\tconsole.debug(\"rtcmulticonnection-extension-loaded parameter is received\");\n\t\t\t\twindow.postMessage(\"get-sourceId\", \"*\");\n\t\t\t}\n\t\t\telse if (message.data == \"PermissionDeniedError\") {\n\t\t\t\tconsole.debug(\"Permission denied error\");\n\t\t\t\tthiz.callbackError(\"screen_share_permission_denied\");\n\t\t\t}\n\t\t\telse if (message.data && message.data.sourceId) {\n\t\t\t\tvar mediaConstraints = {\n\t\t\t\t\taudio: false,\n\t\t\t\t\tvideo: {\n\t\t\t\t\t\tmandatory: {\n\t\t\t\t\t\t\tchromeMediaSource: 'desktop',\n\t\t\t\t\t\t\tchromeMediaSourceId: message.data.sourceId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptional: []\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthiz.getUserMedia(mediaConstraints, audioConstraint);\n\n\t\t\t\t//remove event listener\n\t\t\t\twindow.removeEventListener(\"message\", callback);\n\t\t\t}\n\n\t\t}\n\t\twindow.addEventListener(\"message\", callback, false);\n\n\t\twindow.postMessage(\"are-you-there\", \"*\");\n\t}\n\n\t/**\n\t * Open media stream, it may be screen, camera or audio\n\t */\n\tthis.openStream = function (mediaConstraints) {\n\t\tthiz.mediaConstraints = mediaConstraints;\n\t\tvar audioConstraint = false;\n\t\tif (typeof mediaConstraints.audio != \"undefined\" && mediaConstraints.audio != false) {\n\t\t\taudioConstraint = mediaConstraints.audio;\n\t\t}\n\n\t\tif (typeof mediaConstraints.video != \"undefined\") {\n\n\t\t\tif (mediaConstraints.video == \"screen+camera\" || mediaConstraints.video == \"screen\") {\n\t\t\t\tthis.openScreen(audioConstraint);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthiz.getUserMedia(mediaConstraints, audioConstraint);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconsole.error(\"MediaConstraint video is not defined\");\n\t\t\tthiz.callbackError(\"media_constraint_video_not_defined\");\n\t\t}\n\t}\n\n\t/**\n\t * Closes stream, if you want to stop peer connection, call stop (streamId)\n\t */\n\tthis.closeStream = function () {\n\n\t\tthiz.localStream.getVideoTracks().forEach(function (track) {\n\t\t\ttrack.onended = null;\n\t\t\ttrack.stop();\n\t\t});\n\n\t\tthiz.localStream.getAudioTracks().forEach(function (track) {\n\t\t\ttrack.onended = null;\n\t\t\ttrack.stop();\n\t\t});\n\n\t}\n\n\n\t/**\n\t * Checks chrome screen share extension is avaiable\n\t * if exists it call callback with \"screen_share_extension_available\"\n\t */\n\tthis.checkExtension = function () {\n\t\tvar callback = function (message) {\n\n\t\t\tif (message.data == \"rtcmulticonnection-extension-loaded\") {\n\t\t\t\tthiz.callback(\"screen_share_extension_available\");\n\t\t\t\twindow.removeEventListener(\"message\", callback);\n\t\t\t}\n\n\t\t};\n\t\t//add event listener for desktop capture\n\t\twindow.addEventListener(\"message\", callback, false);\n\n\t\twindow.postMessage(\"are-you-there\", \"*\");\n\n\t};\n\n\t/*\n\t * Call check extension. Below function is called when this class is created\n\t */\n\tthiz.checkExtension();\n\n\t/*\n\t * Below lines are executed as well when this class is created \n\t */\n\tif (!this.isPlayMode && typeof thiz.mediaConstraints != \"undefined\" && this.localStream == null) {\n\t\tif (typeof thiz.mediaConstraints.video != \"undefined\" && thiz.mediaConstraints.video != false) {\n\t\t\t// if it is not play mode and media constraint is defined, try to get user media\n\t\t\tif (thiz.mediaConstraints.audio.mandatory) {\n\t\t\t\t//this case captures mic and video(audio(screen audio) + video(screen)) and then provide mute/unmute mic with \n\t\t\t\t//enableMicInMixedAudio\n\t\t\t\tnavigator.mediaDevices.getUserMedia({ audio: true, video: false }).then(function (micStream) {\n\t\t\t\t\tnavigator.mediaDevices.getUserMedia(thiz.mediaConstraints)\n\t\t\t\t\t\t.then(function (stream) {\n\t\t\t\t\t\t\t//console.debug(\"audio stream track count: \" + audioStream.getAudioTracks().length);\n\n\t\t\t\t\t\t\tvar audioContext = new AudioContext();\n\t\t\t\t\t\t\tvar desktopSoundGainNode = audioContext.createGain();\n\n\t\t\t\t\t\t\tdesktopSoundGainNode.gain.value = 1;\n\n\t\t\t\t\t\t\tvar audioDestionation = audioContext.createMediaStreamDestination();\n\t\t\t\t\t\t\tvar audioSource = audioContext.createMediaStreamSource(stream);\n\n\t\t\t\t\t\t\taudioSource.connect(desktopSoundGainNode);\n\n\t\t\t\t\t\t\tthiz.micGainNode = audioContext.createGain();\n\t\t\t\t\t\t\tthiz.micGainNode.gain.value = 1;\n\t\t\t\t\t\t\tvar audioSource2 = audioContext.createMediaStreamSource(micStream);\n\t\t\t\t\t\t\taudioSource2.connect(thiz.micGainNode);\n\n\t\t\t\t\t\t\tdesktopSoundGainNode.connect(audioDestionation);\n\t\t\t\t\t\t\tthiz.micGainNode.connect(audioDestionation);\n\n\t\t\t\t\t\t\tstream.removeTrack(stream.getAudioTracks()[0]);\n\t\t\t\t\t\t\taudioDestionation.stream.getAudioTracks().forEach(function (track) {\n\t\t\t\t\t\t\t\tstream.addTrack(track);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tconsole.debug(\"Running gotStream\");\n\t\t\t\t\t\t\tthiz.gotStream(stream);\n\n\t\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t\t\t\t});\n\t\t\t\t}).catch(function (error) {\n\t\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t//most of the times, this statement runs\n\t\t\t\tthiz.openStream(thiz.mediaConstraints, thiz.mode);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// get only audio\n\t\t\tvar media_audio_constraint = { audio: thiz.mediaConstraints.audio };\n\t\t\tnavigator.mediaDevices.getUserMedia(media_audio_constraint)\n\t\t\t\t.then(function (stream) {\n\t\t\t\t\tthiz.gotStream(stream);\n\t\t\t\t})\n\t\t\t\t.catch(function (error) {\n\t\t\t\t\tthiz.callbackError(error.name, error.message);\n\t\t\t\t});\n\t\t}\n\t}\n\telse {\n\n\t\t//just playing, it does not open any stream\n\t\tif (thiz.webSocketAdaptor == null || thiz.webSocketAdaptor.isConnected() == false) {\n\t\t\tthiz.webSocketAdaptor = new WebSocketAdaptor();\n\t\t}\n\t}\n\n\tthis.enableMicInMixedAudio = function (enable) {\n\t\tif (thiz.micGainNode != null) {\n\t\t\tif (enable) {\n\t\t\t\tthiz.micGainNode.gain.value = 1;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthiz.micGainNode.gain.value = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.publish = function (streamId, token) {\n\t\tvar jsCmd = {\n\t\t\tcommand: \"publish\",\n\t\t\tstreamId: streamId,\n\t\t\ttoken: token,\n\t\t\tvideo: thiz.localStream.getVideoTracks().length > 0 ? true : false,\n\t\t\taudio: thiz.localStream.getAudioTracks().length > 0 ? true : false,\n\t\t};\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\n\tthis.joinRoom = function (roomName, streamId) {\n\t\tthiz.roomName = roomName;\n\n\t\tvar jsCmd = {\n\t\t\tcommand: \"joinRoom\",\n\t\t\troom: roomName,\n\t\t\tstreamId: streamId,\n\t\t}\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\n\t}\n\n\tthis.play = function (streamId, token, roomId) {\n\t\tthiz.playStreamId.push(streamId);\n\t\tvar jsCmd =\n\t\t{\n\t\t\tcommand: \"play\",\n\t\t\tstreamId: streamId,\n\t\t\ttoken: token,\n\t\t\troom: roomId,\n\t\t}\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\tthis.stop = function (streamId) {\n\t\tthiz.closePeerConnection(streamId);\n\n\t\tvar jsCmd = {\n\t\t\tcommand: \"stop\",\n\t\t\tstreamId: streamId,\n\t\t};\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\tthis.join = function (streamId) {\n\t\tvar jsCmd = {\n\t\t\tcommand: \"join\",\n\t\t\tstreamId: streamId,\n\t\t};\n\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\tthis.leaveFromRoom = function (roomName) {\n\t\tthiz.roomName = roomName;\n\t\tvar jsCmd = {\n\t\t\tcommand: \"leaveFromRoom\",\n\t\t\troom: roomName,\n\t\t};\n\t\tconsole.log(\"leave request is sent for \" + roomName);\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\tthis.leave = function (streamId) {\n\n\t\tvar jsCmd = {\n\t\t\tcommand: \"leave\",\n\t\t\tstreamId: streamId,\n\t\t};\n\n\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t\tthiz.closePeerConnection(streamId);\n\t}\n\n\tthis.getStreamInfo = function (streamId) {\n\t\tvar jsCmd = {\n\t\t\tcommand: \"getStreamInfo\",\n\t\t\tstreamId: streamId,\n\t\t};\n\t\tthis.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t}\n\n\tthis.gotStream = function (stream) {\n\t\tthiz.localStream = stream;\n\t\tthiz.localVideo.srcObject = stream;\n\t\tif (thiz.webSocketAdaptor == null || thiz.webSocketAdaptor.isConnected() == false) {\n\t\t\tthiz.webSocketAdaptor = new WebSocketAdaptor();\n\t\t}\n\t};\n\n\tthis.switchVideoCapture = function (streamId) {\n\t\tvar mediaConstraints = {\n\t\t\tvideo: true,\n\t\t\taudio: false\n\t\t};\n\n\t\tthiz.switchVideoSource(streamId, mediaConstraints, null);\n\t}\n\n\tthis.switchDesktopCapture = function (streamId) {\n\n\t\tvar screenShareExtensionCallback = function (message) {\n\n\t\t\tif (message.data == \"rtcmulticonnection-extension-loaded\") {\n\t\t\t\tconsole.debug(\"rtcmulticonnection-extension-loaded parameter is received\");\n\t\t\t\twindow.postMessage(\"get-sourceId\", \"*\");\n\t\t\t}\n\t\t\telse if (message.data == \"PermissionDeniedError\") {\n\t\t\t\tconsole.debug(\"Permission denied error\");\n\t\t\t\tthiz.callbackError(\"screen_share_permission_denied\");\n\t\t\t}\n\t\t\telse if (message.data && message.data.sourceId) {\n\t\t\t\tvar mediaConstraints = {\n\t\t\t\t\taudio: false,\n\t\t\t\t\tvideo: {\n\t\t\t\t\t\tmandatory: {\n\t\t\t\t\t\t\tchromeMediaSource: 'desktop',\n\t\t\t\t\t\t\tchromeMediaSourceId: message.data.sourceId,\n\t\t\t\t\t\t},\n\t\t\t\t\t\toptional: []\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthiz.switchVideoSource(streamId, mediaConstraints, function () {\n\t\t\t\t\tthiz.callback(\"screen_share_stopped\");\n\t\t\t\t\tthiz.switchVideoCapture(streamId);\n\t\t\t\t});\n\n\t\t\t\t//remove event listener\n\t\t\t\twindow.removeEventListener(\"message\", screenShareExtensionCallback);\n\t\t\t}\n\t\t}\n\n\n\t\t//add event listener for desktop capture\n\t\twindow.addEventListener(\"message\", screenShareExtensionCallback, false);\n\n\t\twindow.postMessage(\"are-you-there\", \"*\");\n\t}\n\n\tthiz.arrangeStreams = function (stream, onEndedCallback) {\n\t\tvar videoTrack = thiz.localStream.getVideoTracks()[0];\n\t\tthiz.localStream.removeTrack(videoTrack);\n\t\tvideoTrack.stop();\n\t\tthiz.localStream.addTrack(stream.getVideoTracks()[0]);\n\t\tthiz.localVideo.srcObject = thiz.localStream;\n\t\tif (onEndedCallback != null) {\n\t\t\tstream.getVideoTracks()[0].onended = function (event) {\n\t\t\t\tonEndedCallback(event);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.switchVideoSource = function (streamId, mediaConstraints, onEndedCallback) {\n\n\t\tnavigator.mediaDevices.getUserMedia(mediaConstraints)\n\t\t\t.then(function (stream) {\n\n\t\t\t\tif (thiz.remotePeerConnection[streamId] != null) {\n\t\t\t\t\tvar videoTrackSender = thiz.remotePeerConnection[streamId].getSenders().find(function (s) {\n\t\t\t\t\t\treturn s.track.kind == \"video\";\n\t\t\t\t\t});\n\n\t\t\t\t\tvideoTrackSender.replaceTrack(stream.getVideoTracks()[0]).then(function () {\n\t\t\t\t\t\tthiz.arrangeStreams(stream, onEndedCallback);\n\n\t\t\t\t\t}).catch(function (error) {\n\t\t\t\t\t\tconsole.log(error.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthiz.arrangeStreams(stream, onEndedCallback);\n\t\t\t\t}\n\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tthiz.callbackError(error.name);\n\t\t\t});\n\t}\n\n\n\tthis.onTrack = function (event, streamId) {\n\t\tconsole.log(\"onTrack\");\n\t\tif (thiz.remoteVideo != null) {\n\t\t\t//thiz.remoteVideo.srcObject = event.streams[0];\n\t\t\tif (thiz.remoteVideo.srcObject !== event.streams[0]) {\n\t\t\t\tthiz.remoteVideo.srcObject = event.streams[0];\n\t\t\t\tconsole.log('Received remote stream');\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tvar dataObj = {\n\t\t\t\ttrack: event.streams[0],\n\t\t\t\tstreamId: streamId\n\t\t\t}\n\t\t\tthiz.callback(\"newStreamAvailable\", dataObj);\n\t\t}\n\n\t}\n\n\tthis.iceCandidateReceived = function (event, streamId) {\n\t\tif (event.candidate) {\n\n\t\t\tvar jsCmd = {\n\t\t\t\tcommand: \"takeCandidate\",\n\t\t\t\tstreamId: streamId,\n\t\t\t\tlabel: event.candidate.sdpMLineIndex,\n\t\t\t\tid: event.candidate.sdpMid,\n\t\t\t\tcandidate: event.candidate.candidate\n\t\t\t};\n\n\t\t\tif (thiz.debug) {\n\t\t\t\tconsole.log(\"sending ice candiate for stream Id \" + streamId);\n\t\t\t\tconsole.log(JSON.stringify(event.candidate));\n\t\t\t}\n\n\t\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\t\t}\n\t}\n\n\n\tthis.initPeerConnection = function (streamId) {\n\t\tif (thiz.remotePeerConnection[streamId] == null) {\n\t\t\tvar closedStreamId = streamId;\n\t\t\tconsole.log(\"stream id in init peer connection: \" + streamId + \" close dstream id: \" + closedStreamId);\n\t\t\tthiz.remotePeerConnection[streamId] = new RTCPeerConnection(thiz.peerconnection_config);\n\t\t\tthiz.remoteDescriptionSet[streamId] = false;\n\t\t\tthiz.iceCandidateList[streamId] = new Array();\n\t\t\tif (!thiz.playStreamId.includes(streamId)) {\n\t\t\t\tthiz.remotePeerConnection[streamId].addStream(thiz.localStream);\n\t\t\t}\n\t\t\tthiz.remotePeerConnection[streamId].onicecandidate = function (event) {\n\t\t\t\tthiz.iceCandidateReceived(event, closedStreamId);\n\t\t\t}\n\t\t\tthiz.remotePeerConnection[streamId].ontrack = function (event) {\n\t\t\t\tthiz.onTrack(event, closedStreamId);\n\t\t\t}\n\t\t}\n\t}\n\n\tthis.closePeerConnection = function (streamId) {\n\t\tif (thiz.remotePeerConnection[streamId] != null\n\t\t\t&& thiz.remotePeerConnection[streamId].signalingState != \"closed\") {\n\t\t\tthiz.remotePeerConnection[streamId].close();\n\t\t\tthiz.remotePeerConnection[streamId] = null;\n\t\t\tdelete thiz.remotePeerConnection[streamId];\n\t\t\tvar playStreamIndex = thiz.playStreamId.indexOf(streamId);\n\t\t\tif (playStreamIndex != -1) {\n\t\t\t\tthiz.playStreamId.splice(playStreamIndex, 1);\n\t\t\t}\n\n\t\t}\n\t}\n\n\tthis.signallingState = function (streamId) {\n\t\tif (thiz.remotePeerConnection[streamId] != null) {\n\t\t\treturn thiz.remotePeerConnection[streamId].signalingState;\n\t\t}\n\t\treturn null;\n\t}\n\n\tthis.iceConnectionState = function (streamId) {\n\t\tif (thiz.remotePeerConnection[streamId] != null) {\n\t\t\treturn thiz.remotePeerConnection[streamId].iceConnectionState;\n\t\t}\n\t\treturn null;\n\t}\n\n\tthis.gotDescription = function (configuration, streamId) {\n\t\tthiz.remotePeerConnection[streamId]\n\t\t\t.setLocalDescription(configuration)\n\t\t\t.then(function () {\n\t\t\t\tconsole.debug(\"Set local description successfully for stream Id \" + streamId);\n\n\t\t\t\tvar jsCmd = {\n\t\t\t\t\tcommand: \"takeConfiguration\",\n\t\t\t\t\tstreamId: streamId,\n\t\t\t\t\ttype: configuration.type,\n\t\t\t\t\tsdp: configuration.sdp\n\n\t\t\t\t};\n\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.debug(\"local sdp: \");\n\t\t\t\t\tconsole.debug(configuration.sdp);\n\t\t\t\t}\n\n\t\t\t\tthiz.webSocketAdaptor.send(JSON.stringify(jsCmd));\n\n\t\t\t}).catch(function (error) {\n\t\t\t\tconsole.error(\"Cannot set local description. Error is: \" + error);\n\t\t\t});\n\n\n\t}\n\n\n\tthis.turnOffLocalCamera = function () {\n\t\tif (thiz.remotePeerConnection != null) {\n\n\t\t\tvar track = thiz.localStream.getVideoTracks()[0];\n\t\t\ttrack.enabled = false;\n\t\t}\n\t\telse {\n\t\t\tthis.callbackError(\"NoActiveConnection\");\n\t\t}\n\t}\n\n\tthis.turnOnLocalCamera = function () {\n\t\tif (thiz.remotePeerConnection != null) {\n\t\t\tvar track = thiz.localStream.getVideoTracks()[0];\n\t\t\ttrack.enabled = true;\n\t\t}\n\t\telse {\n\t\t\tthis.callbackError(\"NoActiveConnection\");\n\t\t}\n\t}\n\n\tthis.muteLocalMic = function () {\n\t\tif (thiz.remotePeerConnection != null) {\n\t\t\tvar track = thiz.localStream.getAudioTracks()[0];\n\t\t\ttrack.enabled = false;\n\t\t}\n\t\telse {\n\t\t\tthis.callbackError(\"NoActiveConnection\");\n\t\t}\n\t}\n\n\t/**\n\t * if there is audio it calls callbackError with \"AudioAlreadyActive\" parameter\n\t */\n\tthis.unmuteLocalMic = function () {\n\t\tif (thiz.remotePeerConnection != null) {\n\t\t\tvar track = thiz.localStream.getAudioTracks()[0];\n\t\t\ttrack.enabled = true;\n\t\t}\n\t\telse {\n\t\t\tthis.callbackError(\"NoActiveConnection\");\n\t\t}\n\t}\n\n\tthis.takeConfiguration = function (idOfStream, configuration, typeOfConfiguration) {\n\t\tvar streamId = idOfStream\n\t\tvar type = typeOfConfiguration;\n\t\tvar conf = configuration;\n\n\t\tthiz.initPeerConnection(streamId);\n\n\t\tthiz.remotePeerConnection[streamId].setRemoteDescription(new RTCSessionDescription({\n\t\t\tsdp: conf,\n\t\t\ttype: type\n\t\t})).then(function (response) {\n\n\t\t\tif (thiz.debug) {\n\t\t\t\tconsole.debug(\"set remote description is succesfull with response: \" + response + \" for stream : \"\n\t\t\t\t\t+ streamId + \" and type: \" + type);\n\t\t\t\tconsole.debug(conf);\n\t\t\t}\n\n\t\t\tthiz.remoteDescriptionSet[streamId] = true;\n\t\t\tvar length = thiz.iceCandidateList[streamId].length;\n\t\t\tconsole.debug(\"Ice candidate list size to be added: \" + length);\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tthiz.addIceCandidate(streamId, thiz.iceCandidateList[streamId][i]);\n\t\t\t}\n\t\t\tthiz.iceCandidateList[streamId] = [];\n\n\t\t\tif (type == \"offer\") {\n\t\t\t\t//SDP constraints may be different in play mode\n\t\t\t\tconsole.log(\"try to create answer for stream id: \" + streamId);\n\n\t\t\t\tthiz.remotePeerConnection[streamId].createAnswer(thiz.sdp_constraints)\n\t\t\t\t\t.then(function (configuration) {\n\t\t\t\t\t\tconsole.log(\"created answer for stream id: \" + streamId);\n\t\t\t\t\t\tthiz.gotDescription(configuration, streamId);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.error(\"create answer error :\" + error);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t}).catch(function (error) {\n\t\t\tif (thiz.debug) {\n\t\t\t\tconsole.error(\"set remote description is failed with error: \" + error);\n\t\t\t}\n\t\t});\n\n\t}\n\n\n\tthis.takeCandidate = function (idOfTheStream, tmpLabel, tmpCandidate) {\n\t\tvar streamId = idOfTheStream;\n\t\tvar label = tmpLabel;\n\t\tvar candidateSdp = tmpCandidate;\n\n\t\tvar candidate = new RTCIceCandidate({\n\t\t\tsdpMLineIndex: label,\n\t\t\tcandidate: candidateSdp\n\t\t});\n\n\t\tthiz.initPeerConnection(streamId);\n\n\t\tif (thiz.remoteDescriptionSet[streamId] == true) {\n\t\t\tthiz.addIceCandidate(streamId, candidate);\n\t\t}\n\t\telse {\n\t\t\tconsole.debug(\"Ice candidate is added to list because remote description is not set yet\");\n\t\t\tthiz.iceCandidateList[streamId].push(candidate);\n\t\t}\n\n\t}\n\n\tthis.addIceCandidate = function (streamId, candidate) {\n\t\tthiz.remotePeerConnection[streamId].addIceCandidate(candidate)\n\t\t\t.then(function () {\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.log(\"Candidate is added for stream \" + streamId);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.error(\"ice candiate cannot be added for stream id: \" + streamId + \" error is: \" + error);\n\t\t\t\tconsole.error(candidate);\n\t\t\t});\n\t}\n\n\tthis.startPublishing = function (idOfStream) {\n\t\tvar streamId = idOfStream;\n\n\t\tthiz.initPeerConnection(streamId);\n\n\t\tthiz.remotePeerConnection[streamId].createOffer(thiz.sdp_constraints)\n\t\t\t.then(function (configuration) {\n\t\t\t\tthiz.gotDescription(configuration, streamId);\n\t\t\t})\n\t\t\t.catch(function (error) {\n\n\t\t\t\tconsole.error(\"create offer error for stream id: \" + streamId + \" error: \" + error);\n\t\t\t});\n\t};\n\n\t/**\n\t * After calling this function, create new WebRTCAdaptor instance, don't use the the same objectone\n\t * Because all streams are closed on server side as well when websocket connection is closed.\n\t */\n\tthis.closeWebSocket = function () {\n\t\tfor (var key in thiz.remotePeerConnection) {\n\t\t\tthiz.remotePeerConnection[key].close();\n\t\t}\n\t\t//free the remote peer connection by initializing again\n\t\tthiz.remotePeerConnection = new Array();\n\t\tthiz.webSocketAdaptor.close();\n\t}\n\n\tfunction WebSocketAdaptor() {\n\t\tvar wsConn = new WebSocket(thiz.websocket_url);\n\n\t\tvar connected = false;\n\n\t\tvar pingTimerId = -1;\n\n\t\tvar clearPingTimer = function () {\n\t\t\tif (pingTimerId != -1) {\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.debug(\"Clearing ping message timer\");\n\t\t\t\t}\n\t\t\t\tclearInterval(pingTimerId);\n\t\t\t\tpingTimerId = -1;\n\t\t\t}\n\t\t}\n\n\t\tvar sendPing = function () {\n\t\t\twsConn.send\n\n\t\t\tvar jsCmd = {\n\t\t\t\tcommand: \"ping\"\n\t\t\t};\n\t\t\twsConn.send(JSON.stringify(jsCmd));\n\n\t\t}\n\n\t\tthis.close = function () {\n\t\t\twsConn.close();\n\t\t}\n\n\t\twsConn.onopen = function () {\n\t\t\tif (thiz.debug) {\n\t\t\t\tconsole.log(\"websocket connected\");\n\t\t\t}\n\n\t\t\tpingTimerId = setInterval(() => {\n\t\t\t\tsendPing();\n\t\t\t}, 5000);\n\n\t\t\tconnected = true;\n\t\t\tthiz.callback(\"initialized\");\n\t\t}\n\n\t\tthis.send = function (text) {\n\n\t\t\tif (wsConn.readyState == 0 || wsConn.readyState == 2 || wsConn.readyState == 3) {\n\t\t\t\tthiz.callbackError(\"WebSocketNotConnected\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twsConn.send(text);\n\t\t\tconsole.log(\"sent message:\" + text);\n\t\t}\n\n\t\tthis.isConnected = function () {\n\t\t\treturn connected;\n\t\t}\n\n\t\twsConn.onmessage = function (event) {\n\t\t\tvar obj = JSON.parse(event.data);\n\n\t\t\tif (obj.command == \"start\") {\n\t\t\t\t//this command is received first, when publishing so playmode is false\n\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.debug(\"received start command\");\n\t\t\t\t}\n\n\t\t\t\tthiz.startPublishing(obj.streamId);\n\t\t\t}\n\t\t\telse if (obj.command == \"takeCandidate\") {\n\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.debug(\"received ice candidate for stream id \" + obj.streamId);\n\t\t\t\t\tconsole.debug(obj.candidate);\n\t\t\t\t}\n\n\t\t\t\tthiz.takeCandidate(obj.streamId, obj.label, obj.candidate);\n\n\t\t\t} else if (obj.command == \"takeConfiguration\") {\n\n\t\t\t\tif (thiz.debug) {\n\t\t\t\t\tconsole.log(\"received remote description type for stream id: \" + obj.streamId + \" type: \" + obj.type);\n\t\t\t\t}\n\t\t\t\tthiz.takeConfiguration(obj.streamId, obj.sdp, obj.type);\n\n\t\t\t}\n\t\t\telse if (obj.command == \"stop\") {\n\t\t\t\tconsole.debug(\"Stop command received\");\n\t\t\t\tthiz.closePeerConnection(obj.streamId);\n\t\t\t}\n\t\t\telse if (obj.command == \"error\") {\n\t\t\t\tthiz.callbackError(obj.definition);\n\t\t\t}\n\t\t\telse if (obj.command == \"notification\") {\n\t\t\t\tthiz.callback(obj.definition, obj);\n\t\t\t\tif (obj.definition == \"play_finished\" || obj.definition == \"publish_finished\") {\n\t\t\t\t\tthiz.closePeerConnection(obj.streamId);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (obj.command == \"streamInformation\") {\n\t\t\t\tthiz.callback(obj.command, obj);\n\t\t\t}\n\t\t\telse if (obj.command == \"pong\") {\n\t\t\t\tthiz.callback(obj.command);\n\t\t\t}\n\n\t\t}\n\n\t\twsConn.onerror = function (error) {\n\t\t\tconsole.log(\" error occured: \" + JSON.stringify(error));\n\t\t\tclearPingTimer();\n\t\t\tthiz.callbackError(error)\n\t\t}\n\n\t\twsConn.onclose = function (event) {\n\t\t\tconnected = false;\n\t\t\tconsole.log(\"connection closed.\");\n\t\t\tclearPingTimer();\n\t\t\tthiz.callback(\"closed\", event);\n\t\t}\n\n\n\t}\n}\n// export default{\n// \tWebRTCAdaptor,\n// }\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-ons-page',{attrs:{\"id\":\"supplyStreamPage\"}},[_c('v-ons-toolbar',[_c('div',{staticClass:\"left\"},[_c('v-ons-back-button',{on:{\"click\":function($event){$event.preventDefault();return _vm.closeVideoStream($event)}}})],1),_c('div',{staticClass:\"center\"},[_vm._v(\"Supply Stream\")])]),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"jumbotron\"},[_c('p',[_c('video',{attrs:{\"id\":\"localVideo\",\"autoplay\":\"\",\"muted\":\"\",\"controls\":\"\",\"playsinline\":\"\"},domProps:{\"muted\":true}})]),_c('v-ons-input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"streamName\",\"placeholder\":\"Type stream name\"},model:{value:(_vm.streamNameBox),callback:function ($$v) {_vm.streamNameBox=$$v},expression:\"streamNameBox\"}}),_c('p',[_c('v-ons-button',{staticClass:\"btn btn-info\",attrs:{\"disabled\":_vm.start_publish_button.disabled,\"id\":\"start_publish_button\"},on:{\"click\":_vm.startPublishing}},[_vm._v(\"Start Publishing\")]),_c('v-ons-button',{staticClass:\"btn btn-info\",attrs:{\"disabled\":_vm.stop_publish_button.disabled,\"id\":\"stop_publish_button\"},on:{\"click\":_vm.stopPublishing}},[_vm._v(\"Stop Publishing\")])],1),_c('span',{staticClass:\"label label-success\",attrs:{\"id\":\"broadcastingInfo\"}},[_vm._v(\"Publishing\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-ons-page id=\"supplyStreamPage\">\n    <v-ons-toolbar>\n      <div class=\"left\">\n        <v-ons-back-button @click.prevent=\"closeVideoStream\"></v-ons-back-button>\n      </div>\n      <div class=\"center\">Supply Stream</div>\n    </v-ons-toolbar>\n    <div class=\"container\">\n      <div class=\"jumbotron\">\n        <p>\n          <video id=\"localVideo\" autoplay muted controls playsinline></video>\n        </p>\n        <v-ons-input\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"streamNameBox\"\n          id=\"streamName\"\n          placeholder=\"Type stream name\"\n        ></v-ons-input>\n        <p>\n          <v-ons-button\n            @click=\"startPublishing\"\n            class=\"btn btn-info\"\n            :disabled=\"start_publish_button.disabled\"\n            id=\"start_publish_button\"\n          >Start Publishing</v-ons-button>\n          <v-ons-button\n            @click=\"stopPublishing\"\n            class=\"btn btn-info\"\n            :disabled=\"stop_publish_button.disabled\"\n            id=\"stop_publish_button\"\n          >Stop Publishing</v-ons-button>\n        </p>\n\n        <span class=\"label label-success\" id=\"broadcastingInfo\">Publishing</span>\n      </div>\n    </div>\n  </v-ons-page>\n</template>\n\n<style >\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../css/player.css\";\n@import \"../css/supplyStream.css\";\n</style>\n\n<script>\nimport \"webrtc-adapter\";\nimport $ from \"jquery\";\n\n// import '@/js/fetch.js'\n// import '@/js/fetch.stream.js'\n// import '@/js/promise.min.js'\nimport { WebRTCAdaptor } from \"@/js/webrtc_adaptor.js\";\n\nexport default {\n  name: \"supplyStream\",\n  data() {\n    return {\n      start_publish_button: {\n        disabled: true\n      },\n      stop_publish_button: {\n        disabled: true\n      },\n      screen_share_checkbox: \"\",\n      install_extension_link: \"\",\n      //streamNameBox: {value:'stream1'},\n      streamNameBox: \"stream1\",\n      streamId: \"\",\n      name: \"\",\n      pc_config: \"\",\n      sdpConstraints: \"\",\n      mediaConstraints: \"\",\n      webRTCAdaptor: \"\"\n    };\n  },\n  methods: {\n    closeVideoStream() {\n      this.webRTCAdaptor.closeStream();\n\n      this.webRTCAdaptor.closePeerConnection();\n\n      document.querySelector(\"ons-navigator\").popPage({\n        refresh: true\n      });\n    },\n    startPublishing() {\n      //this.streamId = this.streamNameBox.value;\n      this.streamId = this.streamNameBox;\n      this.webRTCAdaptor.publish(this.streamId);\n    },\n    stopPublishing() {\n      this.webRTCAdaptor.stop(this.streamId);\n    },\n    enableDesktopCapture(_enable) {\n      if (_enable == true) {\n        this.webRTCAdaptor.switchDesktopCapture(this.streamId);\n      } else {\n        this.webRTCAdaptor.switchVideoCapture(this.streamId);\n      }\n    },\n    startAnimation() {\n      $(\"#broadcastingInfo\").fadeIn(800, () => {\n        $(\"#broadcastingInfo\").fadeOut(800, () => {\n          var state = this.webRTCAdaptor.signallingState(this.streamId);\n          if (state != null && state != \"closed\") {\n            var iceState = this.webRTCAdaptor.iceConnectionState(this.streamId);\n            if (\n              iceState != null &&\n              iceState != \"failed\" &&\n              iceState != \"disconnected\"\n            ) {\n              this.startAnimation();\n            }\n          }\n        });\n      });\n    }\n  },\n  mounted() {\n    this.pc_config = null;\n\n    this.sdpConstraints = {\n      OfferToReceiveAudio: false,\n      OfferToReceiveVideo: false\n    };\n\n    this.mediaConstraints = {\n      video: true,\n      audio: true\n    };\n\n    this.webRTCAdaptor = new WebRTCAdaptor({\n      websocket_url: \"wss://test.antmedia.io:5443/WebRTCAppEE/websocket\",\n      mediaConstraints: this.mediaConstraints,\n      peerconnection_config: this.pc_config,\n      sdp_constraints: this.sdpConstraints,\n      localVideoId: \"localVideo\",\n      debug: true,\n      callback: (info, description) => {\n        if (info == \"initialized\") {\n          console.log(\"initialized\");\n          this.start_publish_button.disabled = false;\n          this.stop_publish_button.disabled = true;\n        } else if (info == \"publish_started\") {\n          //stream is being published\n          console.log(\"publish started\");\n          this.start_publish_button.disabled = true;\n          this.stop_publish_button.disabled = false;\n          this.startAnimation();\n        } else if (info == \"publish_finished\") {\n          //stream is being finished\n          console.log(\"publish finished\");\n          this.start_publish_button.disabled = false;\n          this.stop_publish_button.disabled = true;\n        } else if (info == \"screen_share_extension_available\") {\n          //this.screen_share_checkbox.disabled = false;\n          //console.log(\"screen share extension available\");\n          //this.install_extension_link.style.display = \"none\";\n        } else if (info == \"screen_share_stopped\") {\n          console.log(\"screen share stopped\");\n        } else if (info == \"closed\") {\n          //console.log(\"Connection closed\");\n          if (typeof description != \"undefined\") {\n            console.log(\"Connecton closed: \" + JSON.stringify(description));\n          }\n        } else if (info == \"pong\") {\n          //ping/pong message are sent to and received from server to make the connection alive all the time\n          //It's especially useful when load balancer or firewalls close the websocket connection due to inactivity\n        }\n      },\n      callbackError: (error, message) => {\n        //some of the possible errors, NotFoundError, SecurityError,PermissionDeniedError\n\n        console.log(\"error callback: \" + JSON.stringify(error));\n        var errorMessage = JSON.stringify(error);\n        if (typeof message != \"undefined\") {\n          errorMessage = message;\n        }\n        //var errorMessage = JSON.stringify(error);\n        if (error.indexOf(\"NotFoundError\") != -1) {\n          errorMessage =\n            \"Camera or Mic are not found or not allowed in your device.\";\n        } else if (\n          error.indexOf(\"NotReadableError\") != -1 ||\n          error.indexOf(\"TrackStartError\") != -1\n        ) {\n          errorMessage =\n            \"Camera or Mic is being used by some other process that does not not allow these devices to be read.\";\n        } else if (\n          error.indexOf(\"OverconstrainedError\") != -1 ||\n          error.indexOf(\"ConstraintNotSatisfiedError\") != -1\n        ) {\n          errorMessage =\n            \"There is no device found that fits your video and audio constraints. You may change video and audio constraints.\";\n        } else if (\n          error.indexOf(\"NotAllowedError\") != -1 ||\n          error.indexOf(\"PermissionDeniedError\") != -1\n        ) {\n          errorMessage = \"You are not allowed to access camera and mic.\";\n        } else if (error.indexOf(\"TypeError\") != -1) {\n          errorMessage = \"Video/Audio is required.\";\n        } else if (error.indexOf(\"UnsecureContext\") != -1) {\n          errorMessage =\n            \"Fatal Error: Browser cannot access camera and mic because of unsecure context. Please install SSL and access via https\";\n        } else if (error.indexOf(\"WebSocketNotSupported\") != -1) {\n          errorMessage = \"Fatal Error: WebSocket not supported in this browser\";\n        }\n\n        alert(errorMessage);\n      }\n    });\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyStream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyStream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupplyStream.vue?vue&type=template&id=159687ee&\"\nimport script from \"./SupplyStream.vue?vue&type=script&lang=js&\"\nexport * from \"./SupplyStream.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SupplyStream.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-ons-page id=\"viewStreamPage\">\n    <v-ons-toolbar>\n        <div class=\"left\">\n            <v-ons-back-button @click.prevent=\"endViewingStream()\"></v-ons-back-button>\n        </div>\n        <div class=\"center\">\n            <span class=\"onsPageTitleStyle\">View Stream</span>\n        </div>\n    </v-ons-toolbar>\n    <!-- <div id=\"view-video-control-panel\">\n      <v-ons-button id=\"report-button\" @click=\"report()\">Report</v-ons-button>\n      <span id=\"payment-ticker\" class=\"badge badge-pill badge-info\">{{\"$ \" + formattedTotalAmount}}</span>\n    </div>-->\n    <v-ons-list>\n        <v-ons-list-item id=\"optionsPanel_section_viewStream\">\n            <div id=\"pay-info-section\">\n                <span v-show=\"isInBuiltRequestDemo()\" id=\"payingLabel\" class=\"badge badge-warning\">\n                    Paying\n                    <strong>\n                        <i>{{PayToUserName}}</i>\n                    </strong>\n                </span>\n                <span id=\"payment-ticker\" class=\"badge badge-pill badge-info\">{{\"NEAR \" + formattedTotalAmountNear}}</span>\n            </div>\n            <div class=\"expandable-content\">\n                <div id=\"options_panel\"></div>\n            </div>\n        </v-ons-list-item>\n    </v-ons-list>\n    <div id=\"view-video-panel\">\n        <div v-show=\"isInBuiltRequestDemo()\" class=\"container\">\n            <div class=\"jumbotron\">\n                <video id=\"inBuiltVideoExample\" src=\"../assets/video/santa5.mp4\" playsinline></video>\n            </div>\n        </div>\n        <div v-show=\"!isInBuiltRequestDemo()\" class=\"container\">\n            <div class=\"jumbotron\">\n                <div id=\"video_info\">\n                    Stream will start playing automatically\n                    <br />when it is live\n                </div>\n                <video id=\"remoteVideo\" autoplay controls></video>\n                <!-- <img id=\"play_button\" src=\"images/play.png\" @click=\"playVideo\" /> -->\n                <!-- <input type=\"text\" class=\"form-control\" v-model=\"streamId\" id=\"streamName\" placeholder=\"Type stream name\" /> -->\n            </div>\n        </div>\n    </div>\n    <section v-show=\"isInBuiltRequestDemo()\" id=\"view_stream_nav_buttons_section\">\n        <div id=\"view_stream_nav_buttons_panel\">\n            <v-ons-button id=\"endStreamButton\" @click=\"endViewingStream()\">\n                End Stream\n            </v-ons-button>\n        </div>\n    </section>\n</v-ons-page>\n</template>\n\n<style>\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../css/player.css\";\n@import \"../css/viewStream.css\";\n</style>\n\n<script>\nimport {\n    mapMutations,\n    mapGetters\n} from 'vuex';\n\nimport \"webrtc-adapter\";\n//import $ from 'jquery'\nimport {\n    WebRTCAdaptor\n} from \"@/js/webrtc_adaptor.js\";\n\nimport SupplyStream from \"@/components/SupplyStream.vue\";\n\n// import $ from \"jquery\";\n\n//import BigNumber from \"bignumber.js\";\n\nexport default {\n    name: \"viewStream\",\n    // props:{\n    //     inBuiltRequest:Boolean\n    // },\n    data() {\n        return {\n            webRTCAdaptor: null,\n            streamId1: \"streamId\",\n            streamId: \"stream2\",\n            pc_config: null,\n            sdpConstraints: {\n                OfferToReceiveAudio: true,\n                OfferToReceiveVideo: true\n            },\n            mediaConstraints: {\n                video: false,\n                audio: false\n            },\n            streamNameBox: \"stream1\",\n            inBuiltRequest: true,\n            viewControlPanelView: false,\n            PayToUserName: \"@ma06rii\",\n            streamingPaused: false,\n            metaTag: null,\n            config: null,\n            nearTotalTickerAmount: 0\n        };\n    },\n    computed: {\n        // isWebMonetization: function () {\n        //     return this.$vueWebMonetizationStart &&\n        //         this.$vueWebMonetizationStart.state === \"started\" ?\n        //         true :\n        //         false;\n        // },\n        // formattedTotalAmount: function () {\n        //     return new BigNumber(\n        //         this.$vueWebMonetizationProgress.totalAmount,\n        //         10\n        //     ).toFormat();\n        // },\n        formattedTotalAmountNear: function () {\n            return parseFloat(this.nearTotalTickerAmount / (Math.pow(10, 24))).toFixed(4)\n        }\n    },\n    methods: {\n        // pauseViewingStream() {\n        //   document.getElementById(\"inBuiltVideoExample\").pause();\n        //   this.streamingPaused = true;\n        //   this.removeWebMonetisationMetaTag()\n        // },\n        // playViewingStream() {\n        //   document.getElementById(\"inBuiltVideoExample\").play();\n        //   this.streamingPaused = false;\n        //   this.addWebMonetisationMetaTag()\n        // },\n        ...mapMutations({\n            _setInBuiltRequestDemo: 'setInBuiltRequestDemo'\n\n        }),\n        ...mapGetters({\n            isInBuiltRequestDemo: 'isInBuiltRequestDemo'\n\n        }),\n        pauseViewingStream() {},\n        playViewingStream() {\n            document.getElementById(\"inBuiltVideoExample\").play();\n            this.streamingPaused = false;\n        },\n        report() {},\n        pushToSupplyStreamPage() {\n            this.$emit(\"push-page\", SupplyStream);\n        },\n        playVideo() {\n            document.getElementById(\"remoteVideo\").style.display = \"block\";\n            document\n                .getElementById(\"remoteVideo\")\n                .play()\n                .then(function () {\n                    //autoplay started\n                    document.getElementById(\"play_button\").style.display = \"none\";\n                })\n                .catch(function () {\n                    //\n                    document.getElementById(\"play_button\").style.display = \"block\";\n                    console.log(\"User interaction needed to start playing\");\n                });\n        },\n        startPlaying() {\n            this.webRTCAdaptor.play(this.streamId);\n        },\n        stopPlaying() {\n            this.webRTCAdaptor.stop();\n        },\n        // removeWebMonetisationMetaTag() {\n        //     document.querySelector('meta[name=\"monetization\"]').remove()\n\n        // },\n        // addWebMonetisationMetaTag() {\n        //     this.metaTag = document.createElement('meta')\n        //     this.metaTag.name = \"monetization\"\n        //     this.metaTag.content = \"$twitter.xrptipbot.com/ma06rii1\"\n\n        //     document.head.appendChild(this.metaTag)\n        // },\n        endViewingStream() {\n            //this.removeWebMonetisationMetaTag()\n            clearInterval(this.nearPaymentIntervals);\n            this.$emit(\"back-page\");\n\n        },\n        async makeNearPayment() {\n\n            // replace this with your developer account\n            let your_developer_account = 'ma06rii'\n\n            // all inputs in nearlib are denominated in yoctoNEAR (1 NEAR = 10^24 yoctoNEAR)\n            // use this helper function to convert NEAR to yoctoNEAR\n            let amount_to_send = window.nearlib.utils.format.parseNearAmount('0.00083333')\n\n            let sender, final\n\n            // make sure we're still signed in to the wallet\n            console.assert(window.wallet.isSignedIn(), \"looks like you need to sign in again with the user account!\")\n\n            try {\n                // hydrate and validate we have the right to act on behalf of the sender account\n                sender = await window.near.account(window.wallet.getAccountId())\n\n                // execute a Transfer transaction using the sendMoney convenience method on the account object\n                final = await sender.sendMoney(your_developer_account, amount_to_send);\n\n                // print out the results\n                // console.log(\"transaction id\", final.transaction.id)\n                // console.log(\"gas used\", final.transaction.outcome.gas_burnt)\n\n                // celebrate\n                console.log(\"success!\")\n                console.log(final.transaction.actions[0].Transfer.deposit)\n\n                this.nearTotalTickerAmount = this.nearTotalTickerAmount + parseInt(final.transaction.actions[0].Transfer.deposit)\n\n            } catch (error) {\n                // if anything goes sideways, error handling to the rescue\n                if (error.type == 'InvalidTxError::NotEnoughBalance') {\n                    this.endViewingStream()\n                }\n\n                console.warn(error.type, error.message)\n            }\n\n            // ---------------------------------------------------------------------------\n            // here you have access to `nearlib` and a valid connection object `near`\n            //\n            // we've added them to the window object to make working in the console convenient\n            // ---------------------------------------------------------------------------\n\n        }\n    },\n    mounted() {\n\n        // this.playViewingStream()\n\n        // $(document).on(\"postpop\", \"#navigator\", function () {\n        //     console.log(\"postpop\");\n\n        //     // if (page.matches('#page3')) {\n        //     //     // refresh code\n        //     // }\n        // });\n\n        this.webRTCAdaptor = new WebRTCAdaptor({\n            websocket_url: \"wss://test.antmedia.io:5443/WebRTCAppEE/websocket\",\n            mediaConstraints: this.mediaConstraints,\n            peerconnection_config: this.pc_config,\n            sdp_constraints: this.sdpConstraints,\n            remoteVideoId: \"remoteVideo\",\n            isPlayMode: true,\n            debug: true,\n            callback: (info, description) => {\n                if (info == \"initialized\") {\n                    console.log(\"initialized\");\n                    this.webRTCAdaptor.getStreamInfo(this.streamId);\n                } else if (info == \"streamInformation\") {\n                    console.log(\"stream information\");\n                    this.webRTCAdaptor.play(this.streamId);\n                } else if (info == \"play_started\") {\n                    //joined the stream\n                    console.log(\"play started\");\n                    document.getElementById(\"video_info\").style.display = \"none\";\n                    this.playVideo();\n                } else if (info == \"play_finished\") {\n                    //leaved the stream\n                    console.log(\"play finished\");\n                    //check that publish may start again\n                    setTimeout(function () {\n                        this.webRTCAdaptor.getStreamInfo(this.streamId);\n                    }, 3000);\n                } else if (info == \"closed\") {\n                    //console.log(\"Connection closed\");\n                    if (typeof description != \"undefined\") {\n                        console.log(\"Connecton closed: \" + JSON.stringify(description));\n                    }\n                }\n            },\n            callbackError: function (error) {\n                //some of the possible errors, NotFoundError, SecurityError,PermissionDeniedError\n                console.log(\"error callback: \" + JSON.stringify(error));\n\n                if (error == \"no_stream_exist\") {\n                    setTimeout(function () {\n                        //this.webRTCAdaptor.getStreamInfo(this.streamId);\n                    }, 3000);\n                }\n                //alert(JSON.stringify(error));\n            }\n        });\n\n        this.config = {\n            networkId: 'default', // this can be any label to namespace user accounts\n            nodeUrl: \"https://rpc.nearprotocol.com\", // this endpoint must point to the network you want to reach\n            walletUrl: \"http://wallet.nearprotocol.com\", // this endpoint must exist for the wallet to work\n            deps: {\n                keyStore: new window.nearlib.keyStores.BrowserLocalStorageKeyStore() // keys are stored as plaintext in LocalStorage\n            }\n        };\n\n        if (this.isInBuiltRequestDemo()) {\n            this.makeNearPayment()\n            this.nearPaymentIntervals = setInterval(() => {\n                this.makeNearPayment()\n            }, 3500)\n\n            this.playViewingStream()\n\n        }\n    },\n    created() {\n        // this.config = {\n        //     networkId: 'default', // this can be any label to namespace user accounts\n        //     nodeUrl: \"https://rpc.nearprotocol.com\", // this endpoint must point to the network you want to reach\n        //     walletUrl: \"http://wallet.nearprotocol.com\", // this endpoint must exist for the wallet to work\n        //     deps: {\n        //         keyStore: new window.nearlib.keyStores.BrowserLocalStorageKeyStore() // keys are stored as plaintext in LocalStorage\n        //     }\n        // };\n\n        // if (this.isInBuiltRequestDemo()) {\n        //     this.makeNearPayment()\n        //     this.nearPaymentIntervals = setInterval(() => {\n        //         this.makeNearPayment()\n        //     }, 3500)\n\n        //     this.playViewingStream()\n\n        // }\n\n    },\n    beforeDestroy() {\n        //this.removeWebMonetisationMetaTag()\n\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewStream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewStream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewStream.vue?vue&type=template&id=764786a8&\"\nimport script from \"./ViewStream.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewStream.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewStream.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<v-ons-page>\r\n    <v-ons-toolbar>\r\n        <div class=\"left\">\r\n            <v-ons-button style=\"background-color: Transparent;\">\r\n                <ons-icon style=\"color: #1d1d1b;\" size=\"12px\" icon=\"fa-bars\"></ons-icon>\r\n            </v-ons-button>\r\n        </div>\r\n        <div class=\"center\">\r\n            <v-ons-segment tabbar-id=\"homeTabbar\" :index.sync=\"segmentIndex\" style=\"width: 8em\">\r\n                <button>Wallet</button>\r\n                <button>Request</button>\r\n                <!-- <button>Publish</button> -->\r\n            </v-ons-segment>\r\n        </div>\r\n        <div class=\"right\">\r\n            <v-ons-button @click=\"pushToFilterStreamPage\" style=\"background-color: Transparent;\">\r\n                <ons-icon style=\"color: #1d1d1b;\" size=\"12px\" icon=\"fa-filter\"></ons-icon>\r\n            </v-ons-button>\r\n        </div>\r\n    </v-ons-toolbar>\r\n\r\n    <v-ons-tabbar id=\"homeTabbar\" :tabs=\"tabs\" :index.sync=\"tabbarIndex\" @push-page=\"pushToViewStreamPage\" @back-page=\"popViewPage\" @postchange=\"reHydrate\"></v-ons-tabbar>\r\n</v-ons-page>\r\n</template>\r\n\r\n<style scoped>\r\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\r\n</style>\r\n\r\n<script>\r\nimport RequestStream from \"@/components/RequestStream.vue\";\r\nimport Wallet from \"@/components/Wallet.vue\";\r\nimport RequestStreamFilters from \"@/components/RequestStreamFilters.vue\";\r\nimport ViewStream from \"@/components/ViewStream.vue\";\r\n// import PublishStream from \"@/components/PublishStream.vue\";\r\n\r\n// import nearlib from \"../../node_modules/nearlib/dist/nearlib.min.js\";\r\n// console.log(nearlib)\r\n//console.log(window.nearlib)\r\n\r\nexport default {\r\n    name: \"home\",\r\n    data() {\r\n        return {\r\n            tabs: [{\r\n                    page: Wallet,\r\n                    key: \"Wallet\"\r\n                },\r\n                {\r\n                    page: RequestStream,\r\n                    key: \"RequestStream\"\r\n                }\r\n                // { page: PublishStream, key: \"PublishStream\" }\r\n            ],\r\n            tabbarIndex: 1,\r\n            segmentIndex: 1,\r\n            walletBalance2: 0,\r\n            getSender2: null\r\n        };\r\n    },\r\n    methods: {\r\n        log(...args) {\r\n            console.log(...args);\r\n        },\r\n        pushToFilterStreamPage() {\r\n            this.$emit(\"push-page\", {\r\n                extends: RequestStreamFilters,\r\n                onsNavigatorOptions: {\r\n                    animation: \"lift\",\r\n                    animationOptions: {\r\n                        duration: 0.5\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        pushToViewStreamPage() {\r\n            this.$emit(\"push-page\", ViewStream);\r\n        },\r\n        popViewPage() {\r\n            this.$emit(\"back-page\")\r\n        },\r\n        async connectToNear() {\r\n\r\n        },\r\n        async reHydrate() {\r\n            this.getSender2 = await window.near.account(window.wallet.getAccountId())\r\n            this.walletBalance2 = (await this.getSender2.state()).amount\r\n        }\r\n    },\r\n    created() {\r\n        const config = {\r\n            networkId: 'default', // this can be any label to namespace user accounts\r\n            nodeUrl: \"https://rpc.nearprotocol.com\", // this endpoint must point to the network you want to reach\r\n            walletUrl: \"http://wallet.nearprotocol.com\", // this endpoint must exist for the wallet to work\r\n            deps: {\r\n                keyStore: new window.nearlib.keyStores.BrowserLocalStorageKeyStore() // keys are stored as plaintext in LocalStorage\r\n            }\r\n        };\r\n\r\n        // open a connection to the NEAR platform\r\n        (async function () {\r\n            window.near = await window.nearlib.connect(config); // connect to the NEAR platform\r\n            window.wallet = new window.nearlib.WalletAccount(window.near) // instantiate a new wallet\r\n\r\n            // ---------------------------------------------------------------------------\r\n            // here you have access to `nearlib` and a valid connection object `near`\r\n            //\r\n            // we've added them to the window object to make working in the console convenient\r\n            // ---------------------------------------------------------------------------\r\n\r\n        })(window)\r\n\r\n    },\r\n    provide: function () {\r\n        return {\r\n            walletService: () => {\r\n                return window.nearlib.utils.format.formatNearAmount(this.walletBalance2)\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=f5bb3f22&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=f5bb3f22&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5bb3f22\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<v-ons-page id=\"loginPage\">\n    <div id=\"loginContainer\">\n        <h1 id=\"appHeading\">VIVID</h1>\n        <h2 id=\"appSubHeading\">On Demand Live Streaming</h2>\n        <v-ons-button id=\"loginButton\" @click=\"loginUser\">{{'Login'}}</v-ons-button>\n        <span id=\"authenticationNote\">{{'On Near Platform'}}</span>\n    </div>\n</v-ons-page>\n</template>\n\n<style scoped>\n@import \"../../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n@import \"../css/login.css\";\n</style>\n\n<script>\nimport Home from \"@/components/Home.vue\";\n\nexport default {\n    name: \"login\",\n    data() {\n        return {\n\n        };\n    },\n    methods: {\n        loginUser() {\n            window.wallet.requestSignIn(\n                \"\",\n                // This is the app name. It can be anything.\n                \"vivid-app-demo\"\n            )\n        }\n    },\n    mounted() {\n        const config = {\n            networkId: 'default', // this can be any label to namespace user accounts\n            nodeUrl: \"https://rpc.nearprotocol.com\", // this endpoint must point to the network you want to reach\n            walletUrl: \"http://wallet.nearprotocol.com\", // this endpoint must exist for the wallet to work\n            deps: {\n                keyStore: new window.nearlib.keyStores.BrowserLocalStorageKeyStore() // keys are stored as plaintext in LocalStorage\n            }\n        };\n\n        // open a connection to the NEAR platform\n        (async () => {\n            window.near = await window.nearlib.connect(config); // connect to the NEAR platform\n            window.wallet = new window.nearlib.WalletAccount(window.near) // instantiate a new wallet\n\n            let isUserSignedIn = await window.wallet.isSignedIn()\n\n            if (isUserSignedIn) {\n                this.$emit(\"reset-home-page\", Home)\n            }\n\n            // ---------------------------------------------------------------------------\n            // here you have access to `nearlib` and a valid connection object `near`\n            //\n            // we've added them to the window object to make working in the console convenient\n            // ---------------------------------------------------------------------------\n\n        })(window)\n\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=bc11b516&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=bc11b516&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc11b516\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<v-ons-navigator swipeable :page-stack=\"pageStack\" @push-page=\"pageStack.push($event)\" @back-page=\"pageStack.pop()\" @reset-home-page=\"pageStack.pop(); pageStack.push($event)\"></v-ons-navigator>\r\n</template>\r\n\r\n<style>\r\n@import \"css/app.css\";\r\n</style>\r\n\r\n<script>\r\n//import RequestStream from '@/components/RequestStream.vue'\r\n//import Home from \"@/components/Home.vue\";\r\nimport Login from \"@/components/Login.vue\"\r\n\r\nexport default {\r\n    name: \"main_page\",\r\n    // components:{\r\n    //     Home\r\n    // },\r\n    data() {\r\n        return {\r\n            pageStack: [Login]\r\n        };\r\n    }\r\n    //   mounted() {\r\n    //     this.importAll(\r\n    //       require.context(\r\n    //         \"../node_modules/leaflet-extra-markers/dist/img\",\r\n    //         true,\r\n    //         /\\.png$/\r\n    //       )\r\n    //     );\r\n    //   }\r\n    //,\r\n\r\n};\r\n</script>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7a87ceb1&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Webpack CSS import\nimport 'onsenui/css/onsenui.css'\nimport 'onsenui/css/onsen-css-components.css'\n\nimport Vue from 'vue'\nimport VueOnsen from 'vue-onsenui'\nVue.use(VueOnsen)\n\n// import Vuex from 'vuex'\n// Vue.use(Vuex)\n\n//THIS IS TO IMPORT THE 'VUEX' STORE TO BE USED IN THE VUE APP.\nimport store from './store'\n\n// import VueWebMonetization from 'vuejs-web-monetization'\n// Vue.use(VueWebMonetization)\n\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStream.vue?vue&type=style&index=0&id=518fe028&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStream.vue?vue&type=style&index=0&id=518fe028&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"media/santa5.f6f22098.mp4\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAC40lEQVRoge2YzU8TQRjGn1kKlLbQD0EKKTQRJcGAcIDAwXAiUYMkxgMGvSrRxkSP8k/ICQ/o0ZCgHjyIHMCTHCCBCOnBpAKJRdpqBQqEBupux0OrqSKzLfsulbC/484z+z7P7nxlAAODkw1TEzy99daDJAYBXAJQqr8lAMA2OJ9QpOSjuyM9n0RCYYC0+QUALlJ72bMuy8qFey97Vg8SSMLuqS+fL/MA4DKZTI9FAnGA1LDJM1zoQS3AUY15EXZRo1qA/55jH8Ckx0u9dTE0toZRUbkDAIhGbPDPuRFccpDXIg/Q1rmC5rbwH8+qarZQVbOF+ZlqzE55SOuRDiFvXWyf+Uxa2kOoPROjLEkboLH1YPO/aMpCkwukAcpPx9U17h3KknlYhbjq8SsnSAN8/2pV1UQj6ppcIA3gn3OTaHKBNEBwyYH5meoD2z9MV2NlmXYvIN8HZqc8+Bayoak1jPLK1KSORqzwz7nJzQM67cTBZQeCOpj9F8ZZKBPusEA+WwHFewrcbga3FAEAWDwBtrmLgs9rMC1GwWLq+0W2kATgJYVIdJ6D3OAG2P51nttLAHsJlFonEhfrYPoYQdH7RbB4QnNtzQGSFaXYvdYMbivOrgNjkM9XQal1wfx6AVJ0W1N9TXOAl5mxe70le/OZfW3Fqb5lZi0WtAXY62r4Pc4PA7cUYa+rQYsFbQEUr/YLC63vONnLqHXwHZWPQ3Ps/4ARIN8IA3Bg66iMCNgUNQoDMM4nab0ciglRo/gPcAwAWCO1kxvrrEAaEAmEAfpHuwOyrDQD7MVRDqd0rVesQGq//fzyokhLekXwrG9siIP5hCLGhu6MXLlPVZN0FfoStjwARPOGT66GzA8pa9Je0gB4cvONs5BL0wDq/2oK/GDJDt/I1Q3KeuQBAGD4xlg9k9g0AGf60QZP8o7+0e4AdS1dNrL+0e4AZ1IvABmAzJnUq4d53RnuG/cN942LJ7WBgYEmfgKMzs3/59GwxAAAAABJRU5ErkJggg==\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=bc11b516&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=bc11b516&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=style&index=0&id=91d4ba60&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wallet.vue?vue&type=style&index=0&id=91d4ba60&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStreamFilters.vue?vue&type=style&index=0&id=69a495fe&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RequestStreamFilters.vue?vue&type=style&index=0&id=69a495fe&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/slim_pin.37d9a318.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyStream.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupplyStream.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}